(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[63277],{61118:(e,t)=>{"use strict";t.CircularBuffer=void 0;var i=function(){function e(e){this._start=0,this._size=0,this._buffer=new Array(e)}return e.prototype.size=function(){return this._size},e.prototype.capacity=function(){return this._buffer.length},e.prototype.enqueue=function(e){this._size<this._buffer.length?this._size++:this._start=(this._start+1)%this._buffer.length;var t=(this._start+this._size-1)%this._buffer.length;this._buffer[t]=e},e.prototype.dequeue=function(){if(0===this._size)throw new Error("Buffer is empty");var e=this._buffer[this._start];return this._buffer[this._start]=void 0,this._start=(this._start+1)%this._buffer.length,this._size--,e},e.prototype.get=function(e){if(e>=this._size)throw new Error("Index is out of range");var t=(this._start+e)%this._buffer.length;return this._buffer[t]},e.prototype.forEach=function(e,t){for(var i=0;i<this._size;i++){var n=(this._start+i)%this._buffer.length;e.call(t,this._buffer[n],n,this)}},e.prototype.clear=function(){for(var e=this._buffer.length,t=0;t<e;t++)this._buffer[t]=void 0;this._start=0,this._size=0},e}();t.CircularBuffer=i},6617:(e,t)=>{"use strict";t.hasProperty=t.isObject=void 0,t.isObject=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)},t.hasProperty=function(e,t){return t in e}},33713:(e,t,i)=>{"use strict";i.d(t,{default:()=>s});var n=i(7193);const s=function(e){return(null==e?0:e.length)?(0,n.default)(e,1):[]}},77973:(e,t,i)=>{"use strict";i.d(t,{default:()=>n});const n=function(e){return null===e}},13413:()=>{},86473:e=>{e.exports={errorDialog:"errorDialog-0R3aCXZS"}},95306:()=>{},64387:(e,t,i)=>{"use strict";i.d(t,{setupChartEventHint:()=>u});var n=i(88537),s=i(87236),r=i(62802),o=i(8170),a=i(29084),l=i(38456),c=i(70316),d=i(11688);function u(e,t=!1){if(!d.enabled("popup_hints"))return;const u=e.getContainer();let h=null,_=null;function m(e,t){if(h)h.show(e,g.bind(null,t));else{const n=o.tool.value();Promise.all([i.e(25113),i.e(11935),i.e(87995),i.e(26166)]).then(i.bind(i,10837)).then(i=>{h=new i.ChartEventHintRenderer(u),n===o.tool.value()&&h.show(e,g.bind(null,t))})}}function p(e){return!Boolean(r.getBool(e))}function g(e){r.setValue(e,!0,{forceFlush:!0}),(0,n.ensureNotNull)(h).destroy(),null!==_&&_(),h=null}o.tool.subscribe((function(){if(!p("hint.touchPainting"))return;const e=o.tool.value(),t=(0,a.isLineToolDrawWithoutPoints)(e),i=l.CheckMobile.any();!(0,a.isStudyLineToolName)(e)||"LineToolRegressionTrend"===e||t||i?(0,a.isLineToolName)(e)&&!(0,a.isLineDrawnWithPressedButton)(e)&&!t&&i?m((0,s.t)("Move the point to position the anchor then tap to place"),"hint.touchPainting"):h&&h.hide():m((0,s.t)("Click to set a point"),"hint.touchPainting")})),o.createdLineTool.subscribe(null,(function(){const e=o.tool.value();"LineToolPath"===e&&p("hint.finishBuildPathByDblClick")?m((0,s.t)("Double-click to finish Path"),"hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&p("hint.finishBuildPolylineByDblClick")&&m((0,
s.t)("Double-click to finish Polyline"),"hint.finishBuildPolylineByDblClick")})),o.finishedLineTool.subscribe(null,(function(){if(h){const e=o.tool.value();"LineToolPath"===e?g("hint.finishBuildPathByDblClick"):"LineToolPolyline"===e&&g("hint.finishBuildPolylineByDblClick")}})),e.layoutSizesChanged().subscribe((function(){if(!p("hint.startResizingChartInLayout"))return;m((0,s.t)("Double-click any edge to reset layout grid"),"hint.startResizingChartInLayout")})),t||l.CheckMobile.any()||!p("hint.startFocusedZoom")||(_=function(e,t){let i=!1;const n=s=>{s?(i&&t(s),e.onZoom().unsubscribe(null,n)):i||(t(s),i=!0)};return e.onZoom().subscribe(null,n),()=>e.onZoom().unsubscribe(null,n)}(e,(function(e){if(!p("hint.startFocusedZoom"))return;if(e)h&&(_=null,g("hint.startFocusedZoom"));else{const e=c.isMacKeyboard?"âŒ˜":"Ctrl";m((0,s.t)("Press and hold {key} while zooming to maintain the chart position").format({key:e}),"hint.startFocusedZoom")}})))}},60509:(e,t,i)=>{"use strict";i.d(t,{setupChartScreenshotHint:()=>o});var n=i(87236),s=i(51954),r=i(88537);function o(e,t){const o=(0,n.t)("Link to the chart image copied to clipboard {emoji}").format({emoji:"ðŸ‘"}),a=(0,n.t)("Chart image copied to clipboard {emoji}").format({emoji:"ðŸ‘"});s.on("onServerScreenshotCopiedToClipboard",()=>d(o),null),s.on("onClientScreenshotCopiedToClipboard",()=>d(a),null);let l=null;const c=e.getContainer();function d(e){l?l.show(e):Promise.all([i.e(18844),i.e(16767),i.e(16895),i.e(87995),i.e(30092)]).then(i.bind(i,34464)).then(i=>{l||(l=new i.ChartScreenshotHintRenderer((0,r.ensureNotNull)(c),{bottomPadding:t.seriesControlBarEnabled}),l.show(e))})}}},29534:(e,t,i)=>{"use strict";i.d(t,{createErrorDialog:()=>r,showErrorDialog:()=>a});var n=i(87236),s=i(86473);async function r(e){return(await Promise.all([i.e(31205),i.e(16061),i.e(23450),i.e(84575),i.e(80509),i.e(66708),i.e(25977),i.e(86297),i.e(93682),i.e(34834)]).then(i.bind(i,82649))).createDialog({...o(e),type:"modal"})}function o(e){const{title:t,content:i,actions:r,btnTitle:o,btnType:a,help:l}=e;return{title:t||(0,n.t)("Error"),help:l,content:i,addClass:s.errorDialog,destroyOnClose:!0,width:500,dataset:{"dialog-type":"error-dialog"},actions:r||[{key:[13,32],method:"close",name:"ok",text:o||(0,n.t)("OK"),type:a||"primary"}]}}function a(e){r(e).then(e=>e.open())}},60641:(e,t,i)=>{"use strict";i.d(t,{ChartPage:()=>c});var n=i(62325),s=i.n(n),r=i(81996),o=i(84443),a=i(11688);const l=a.enabled("no_min_chart_width");class c{constructor(e){this._processVisibility=e=>{const t=e.container.value();return this._affectsLayout(e.name)?(t&&t.classList.toggle("js-hidden",!1),!0):(t&&t.classList.toggle("js-hidden",!0),!1)},this._setWidth=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availWidth.setValue(t),e.canNegotiate.width&&(i=(0,o.determineSize)(t,e.negotiations.width)));const n=e.container.value();return n&&(n.style.width=i+"px"),e.width.setValue(i),i},this._setHeight=(e,t)=>{let i=t;this._fullscreenArea!==e.name&&(e.availHeight.setValue(t),e.canNegotiate.height&&(i=(0,
o.determineSize)(t,e.negotiations.height)));const n=e.container.value();return n&&(n.style.height=i+"px"),e.height.setValue(i),i};const t=e.container.value();if(!t)throw new Error("bridge.container.value() must be an element");this._container=t,this._availableAreas=["left","tradingpanel","right","top","bottom","center","topleft","extratop"],this._areas={},this._bridge=e,this._width=e.width,this._height=e.height,this._width.subscribe(()=>this.recalculate()),this._height.subscribe(()=>this.recalculate()),this._bridge.visible.subscribe(()=>this._updateVisibility()),this._bridge.fullscreen.subscribe(()=>this._onParentFullscreenChange()),this.recalculate()}allocate(e){const t=e&&e.areaName;if(-1===this._availableAreas.indexOf(t))throw new Error("unknown options.areaName");this.free(t);const i=this._createDOM(t),n={name:t,canNegotiate:{width:"left"===t||"right"===t||"tradingpanel"===t||"topleft"===t,height:"top"===t||"bottom"===t||"topleft"===t||"extratop"===t},negotiations:{width:[],height:[]},remove:()=>{for(const e in this._areas)this._areas[e]===n&&this.free(e)},negotiateWidth:e=>{if(!n.canNegotiate.width)return;const t=(0,o.processNegotiation)(e);(0,o.negotiationsAreEqual)(n.negotiations.width,t)||(n.negotiations.width=t,this.recalculate())},negotiateHeight:e=>{if(!n.canNegotiate.height)return;const t=(0,o.processNegotiation)(e);(0,o.negotiationsAreEqual)(n.negotiations.height,t)||(n.negotiations.height=t,this.recalculate())},requestFullscreen:()=>{this._fullscreenArea||("right"!==t&&"center"!==t||(this._fullscreenArea=t),"center"===t&&this._bridge.requestFullscreen(),this._updateFullscreen())},exitFullscreen:()=>{t===this._fullscreenArea&&(this._fullscreenArea=void 0,"center"===t&&this._bridge.exitFullscreen(),this._updateFullscreen())},width:new(s()),height:new(s()),availWidth:new(s()),availHeight:new(s()),alive:new(s())(!0),container:new(s())(i),visible:new(s())(!0),fullscreen:new(s())(!1),fullscreenable:new(s())("right"===t||"center"===t),rdState:new r.ResizerDetacherState};return n.rdState.pushOwner(n),this._areas[t]=n,n.rdState.owner.subscribe(e=>{const i=n.container.value();if(e!==n)i&&(i.innerHTML="",i.parentElement&&i.parentElement.removeChild(i));else{let e=null;for(let i=this._availableAreas.indexOf(t);i--;){const t=this._availableAreas[i];if(this._affectsLayout(t)){e=this._areas[t].container.value();break}}i&&(e&&i.parentElement?i.insertAdjacentElement("afterend",e):this._container.appendChild(i))}this.recalculate()},{callWithLast:!0}),n.rdState.bridge()}free(e){const t=this._areas[e];if(!t)return;this._areas[e]=void 0;const i=t.container.value();i&&i.parentElement&&i.parentElement.removeChild(i),t.alive.setValue(!1)}recalculate(){const e={};this._recalcSingleRunToken=e;const t=this._areas.topleft,i=this._areas.left,n=this._areas.tradingpanel,s=this._areas.right,r=this._areas.top,o=this._areas.bottom,a=this._areas.center,c=this._areas.extratop,d=this._width.value(),u=this._height.value();let h=0,_=0,m=0,p=0,g=0,f=0,b=0,v=0
;if(e===this._recalcSingleRunToken&&c&&this._processVisibility(c)&&(v=this._setHeight(c,u),this._setWidth(c,d)),e===this._recalcSingleRunToken&&t&&this._processVisibility(t)){b=this._setHeight(t,u),f=this._setWidth(t,d);const e=t.container.value();e&&(e.style.top=v+"px")}let y=0;if(e===this._recalcSingleRunToken&&r&&this._processVisibility(r)){const e=r.container.value();e&&(e.style.left=f+"px",e.style.top=v+"px");const t=d-f;this._setWidth(r,t),h=this._setHeight(r,u),h&&(y=1)}if(e===this._recalcSingleRunToken&&i&&this._processVisibility(i)){const e=Math.max(b,h),t=i.container.value();m=this._setWidth(i,d),m&&(m+=4),m&&1===y&&(y=4),t&&(t.style.top=e+v+y+"px"),this._setHeight(i,u-e-v)}if(e===this._recalcSingleRunToken&&n&&this._processVisibility(n)){let e=d-m;l||(e-=300),g=this._setWidth(n,e),g&&1===y&&(y=4),this._setHeight(n,u-v-h-y)}if(e===this._recalcSingleRunToken&&s&&this._processVisibility(s)){let e=d-m-g;l||(e-=300),p=this._setWidth(s,e),p&&1===y&&(y=4),this._setHeight(s,u-v-h-y);const t=s.container.value();t&&(t.style.top=h+v+y+"px",t.classList.toggle("no-border-top-left-radius",Boolean(g)))}const w=g+p;let S=0;const P=d-m-g-p-(w?4:0);if(e===this._recalcSingleRunToken&&o&&this._processVisibility(o)){const e=o.container.value();e&&(e.style.left=m+"px",e.classList.toggle("no-border-top-left-radius",!m),e.classList.toggle("no-border-top-right-radius",!w)),this._setWidth(o,P);const t=u-v;S=Math.min(300,t-0),_=this._setHeight(o,t)+4}const C=Boolean(h&&(m||w));if(this._container.classList.toggle("layout-with-border-radius",C),e===this._recalcSingleRunToken&&a&&this._processVisibility(a)){const e=a.container.value();e&&(e.style.left=m+"px",e.style.top=h+v+y+"px",e.classList.toggle("no-border-bottom-left-radius",!_||!m),e.classList.toggle("no-border-bottom-right-radius",!w||!_),e.classList.toggle("no-border-top-left-radius",Boolean(!m&&w)),e.classList.toggle("no-border-top-right-radius",Boolean(m&&!w))),this._setWidth(a,P);const t=u-h-_-v-y;this._setHeight(a,Math.max(t,S))}if(e===this._recalcSingleRunToken&&n&&this._affectsLayout("tradingpanel")){const e=n.container.value();e&&(e.style.right=p+"px",e.style.top=v+h+y+"px",e.style.borderTopLeftRadius=C?"4px":"0px")}e===this._recalcSingleRunToken&&this._updateVisibility()}_affectsLayout(e){const t=this._areas[e];if(!t)return!1;if(t.rdState.owner.value()!==t)return!1;if(this._fullscreenArea&&this._fullscreenArea!==e)return d(e);if(this._width.value()<=567||this._height.value()<=445){if(!["center","top","left","topleft","extratop"].includes(e))return!1}return!0}_updateVisibility(){const e=this._bridge.visible.value();for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],n=this._areas[i];n&&(e&&this._affectsLayout(i)?n.visible.setValue(!0):n.visible.setValue(!1))}}_onParentFullscreenChange(){this._bridge.fullscreen.value()||(this._fullscreenArea=void 0,this._updateFullscreen())}_updateFullscreen(){const e=void 0!==this._fullscreenArea;for(let t=0;t<this._availableAreas.length;t++){const i=this._availableAreas[t],n=this._areas[i];if(!n)continue
;if(i===this._fullscreenArea){n.fullscreen.setValue(!0);continue}n.fullscreen.setValue(!1);const s=n.container.value();s&&s.classList.toggle("js-hidden",e&&!d(i))}this._updateVisibility(),this.recalculate()}_createDOM(e){const t=document.createElement("div");return t.classList.add("layout__area--"+e),t.style.position="absolute","tradingpanel"===e&&(t.style.overflow="hidden",t.style.borderTopLeftRadius="4px"),"bottom"===e?t.style.bottom="0":t.style.top="0","right"===e||"tradingpanel"===e?t.style.right="0":t.style.left="0",t}}function d(e){const t=a.enabled("side_toolbar_in_fullscreen_mode"),i=a.enabled("header_in_fullscreen_mode");return"center"===e||"left"===e&&t||"top"===e&&i}},84443:(e,t,i)=>{"use strict";function n(e,t){let i=0;for(const{min:n,max:s}of t){if(e<n||s<n)continue;const t=Math.min(e,s);if(i=Math.max(i,t),e===i)break}return i}function s(e){const t=[];if(void 0===e)return[];Array.isArray(e)||(e=[e]);for(const i of e){let e,n;isFinite(i)?e=n=Number(i):(e=+i.min,n=+i.max),(e<0||isNaN(e))&&(e=0),isNaN(n)&&(n=1/0),e<=n&&n>0&&t.push({min:e,max:n})}return t.sort((e,t)=>e.min-t.min||e.max-t.max),t}function r(e,t){if(e.length!==t.length)return!1;for(let i=e.length;i--;){if(e[i].min!==t[i].min)return!1;if(e[i].max!==t[i].max)return!1}return!0}i.d(t,{determineSize:()=>n,processNegotiation:()=>s,negotiationsAreEqual:()=>r})},90523:(e,t,i)=>{"use strict";i.d(t,{Root:()=>u});i(87236);var n=i(62325),s=i.n(n),r=i(81996);class o{constructor(e){this._document=e,this.isFullscreen=new(s());const t=()=>{const e=["fullscreenElement","webkitFullscreenElement","mozFullscreenElement","mozFullScreenElement","msFullscreenElement"];for(let t=0;t<e.length;t++){const i=e[t];if(i in this._document){this.isFullscreen.setValue(!!this._document[i]);break}}};t();for(const i of["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"])e.addEventListener(i,t,!1)}enter(){const e=this._document.documentElement;for(const t of["requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!0)}exit(){const e=this._document;for(const t of["exitFullscreen","mozCancelFullScreen","mozExitFullscreen","webkitExitFullscreen","msExitFullscreen"])if("function"==typeof e[t]){e[t]();break}this.isFullscreen.setValue(!1)}}var a=i(54433),l=i(14802),c=i(88537),d=i(38456);class u{constructor(e){this._updateDocumentHeight=e=>{"visual"===this._viewportType&&this._window.document.documentElement.style.setProperty("height",e+"px","important")},this._window=e,this._fullscreenApi=new o(e.document),this._viewportType=d.CheckMobile.iOS()&&!(0,l.isOnMobileAppPage)("any")&&this._window.visualViewport?"visual":"quirks","visual"===this._viewportType?this._viewport=(0,c.ensureDefined)(this._window.visualViewport):this._viewport=this._window;const t=this._layoutSizeSensor=this._window.document.createElement("div");t.id="layout-size-sensor",t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",
t.style.pointerEvents="none",t.style.visibility="hidden",this._initFullscreen()}allocate(){this.free();const e=this._window.document,t=e.createElement("div");t.classList.add("js-rootresizer__contents"),t.style.position="relative",t.style.width="100%",t.style.height="100%",e.body.insertAdjacentElement("afterbegin",t),e.body.insertAdjacentElement("afterbegin",this._layoutSizeSensor),this._visibilityApi=new a.VisibilityApi(this._window.document);const i={alive:new(s())(!0),fullscreenable:new(s())(!0),container:new(s())(t),width:new(s()),height:new(s()),availWidth:new(s()),availHeight:new(s()),visible:this._visibilityApi.isVisible,fullscreen:this._fullscreenApi.isFullscreen,remove:()=>{i.alive.setValue(!1)},attach:()=>{i.alive.setValue(!1),this._window.close()},requestFullscreen:()=>{this._requestFullscreen()},exitFullscreen:()=>{this._exitFullscreen()}};return i.alive.subscribe(e=>{e||i!==this._area||this.free()}),this._area=i,this._resizeHandler=()=>{const e=this._width(i)||800,t=this._height(i)||600;i.availHeight.setValue(t),i.availWidth.setValue(e),i.height.setValue(t),i.width.setValue(e)},this._area.height.subscribe(this._updateDocumentHeight,{callWithLast:!0}),this._resizeHandler(),this._viewport.addEventListener("resize",this._resizeHandler),new r.ResizerDetacherState(i).bridge()}free(){if(this._resizeHandler&&(this._viewport.removeEventListener("resize",this._resizeHandler),this._resizeHandler=void 0),this._visibilityApi&&(this._visibilityApi.destroy(),this._visibilityApi=void 0),this._area){const e=this._area;this._area=void 0,e.height.unsubscribe(this._updateDocumentHeight),e.alive.setValue(!1);const t=e.container.value(),i=null==t?void 0:t.parentElement;i&&(i.removeChild(t),i.removeChild(this._layoutSizeSensor))}}_height(e){if("visual"===this._viewportType)return this._layoutSizeSensor.clientHeight;return e.container.value().clientHeight}_width(e){return e.container.value().clientWidth}_requestFullscreen(){this._fullscreenApi.enter()}_exitFullscreen(){this._fullscreenApi.exit()}_initFullscreen(){this._fullscreenApi.isFullscreen.subscribe(e=>{this._resizeHandler&&this._resizeHandler()})}}},67232:(e,t,i)=>{"use strict";async function n(e){
const[{configure:t},n,{HotlistRenderer:s},{ReutersCalendarWidget:r},o]=await Promise.all([Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,18809)),Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,42887)),Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,67575)),Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,49171)),Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,53591))]);return{Watchlist:t(e),Detail:n,CalendarWidget:o,ReutersCalendarWidget:r,HotlistWidget:s}}i.d(t,{configuration:()=>n})},30980:(e,t,i)=>{"use strict";i.r(t),i.d(t,{getCharts:()=>_,getChartsCount:()=>m,getDrawingTemplates:()=>k,getGlobalNotifications:()=>h,getStandardStudyTemplateContentById:()=>T,getStudyTemplateContent:()=>S,getStudyTemplateContentById:()=>C,getStudyTemplatesList:()=>v,invalidateStudyTemplatesList:()=>y,loadChart:()=>p,loadDrawingTemplate:()=>I,removeChart:()=>f,removeDrawingTemplate:()=>D,removeStudyTemplate:()=>P,removeStudyTemplateById:()=>E,renameStudyTemplate:()=>x,replaceStudyTemplate:()=>L,saveChart:()=>g,saveDrawingTemplate:()=>A,saveStudyTemplate:()=>w});i(23127);var n=i(56130),s=i(87772);const r=(0,i(11905).getLogger)("Lib.AsyncGzip"),o=[];var a=i(86674);function l(e){if(e.ok)return e.json();throw new Error("not ok")}function c(e){if(e.ok)return e.json();throw new Error("not ok")}var d=i(14802),u=i(23127);function h(e,t){const i={count:t};return e&&(i.lastId=e),u.ajax({url:"/global-notifications/",cache:!1,dataType:"json",type:"GET",data:i})}function _(e){
return new Promise((t,i)=>{u.getJSON("/my-charts/",{limit:e},t).fail(i)})}function m(e,t){u.getJSON("/api/v1/charts/count/",void 0,e).fail(t)}function p(e){const t=(0,n.generateChartUrl)({chartId:e.url}),i=document.createElement("a");i.href=t,!(0,d.isOnMobileAppPage)("new")&&/^\/chart(\/|$)/.test(location.pathname)&&(i.target="_blank",i.rel="noopener"),i.click()}function g(e,t,n,a,l){return function(e){let t;const n=new Promise((n,r)=>{let a=setTimeout(r,5e3,new Error("Loading timed out"));t=o.pop()||new s.Worker(new URL(i.p+i.u(31482),i.b),{name:"Async gzip worker"}),t.onerror=r,t.onmessageerror=r,t.onmessage=e=>{clearTimeout(a),"done"===e.data.type?n(e.data.payload):a=setTimeout(r,3e4,new Error("Processing timed out"))},t.postMessage({type:"do",payload:e})});return n.then(()=>{o.length<1?(delete t.onerror,delete t.onmessage,delete t.onmessageerror,o.push(t)):t.terminate()},e=>{r.logError("Worker request failed: "+e.message),t.terminate()}),n}(a.content).catch(()=>null).then(e=>{const t=new FormData;for(const i in a)"content"===i&&e?t.append(i,new Blob([e],{type:"application/gzip"}),"blob.gz"):t.append(i,String(a[i]));return fetch("/savechart/",{method:"POST",credentials:"same-origin",body:t})}).then(e=>{if(!e.ok)throw e;return e.text()})}function f(e){return new Promise((t,i)=>{u.post("/deletechart/",{uid:[e]},e=>{e.error?i(e.error):t()})})}let b=null;function v(){return null===b&&(b=(0,a.fetch)("/api/v1/study-templates",{credentials:"same-origin"}).then(l).then(e=>{const t=new Set((e.standard||[]).map(e=>e.name)),i=(e.custom||[]).map(e=>({...e,is_default:!1}));for(const e of i)t.delete(e.name);const n=(e.standard||[]).filter(e=>t.has(e.name)).map(e=>({...e,is_default:!0}));return[...i,...n]})),b}function y(){b=null}function w(e){return t={name:e.name,content:e.content,meta_info:e.meta_info||{indicators:[]}},(0,a.fetch)("/api/v1/study-templates",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(e=>{if(e.ok)return e.json().then(e=>({result:e}));switch(e.status){case 403:return e.json().then(e=>({error:e.code}));case 422:return e.json().then(e=>({error:e.code,id:e.id}));default:throw new Error("not ok")}});var t}async function S(e){throw new Error("Not implemented")}async function P(e){throw new Error("Not implemented")}function C(e,t){(function(e){return(0,a.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin"}).then(l)})(e).then(t)}function T(e,t){(function(e){return(0,a.fetch)("/api/v1/study-templates/standard/"+e,{credentials:"same-origin"}).then(l)})(e).then(t)}function E(e,t){(function(e){return(0,a.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin",method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("not ok")})})(e).then(t)}function x(e,t,i){(function(e,t){return(0,a.fetch)(`/api/v1/study-templates/${e}/rename/`,{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(l)})(e,{name:t}).then(i)}function L(e,t,i){(function(e,t){return(0,
a.fetch)("/api/v1/study-templates/"+e,{credentials:"same-origin",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(l)})(e,{name:t.name,content:t.content,meta_info:t.meta_info||{indicators:[]}}).then(i)}function k(e){return function(e){return(0,a.fetch)(`/drawing-templates/${e}/`,{credentials:"same-origin"}).then(c)}(e)}function A(e,t,i){return function(e,t,i){const n=new FormData;return n.append("name",t),n.append("tool",e),n.append("content",i),(0,a.fetch)("/save-drawing-template/",{method:"POST",credentials:"same-origin",body:n}).then(c)}(e,t,i)}function I(e,t){return async function(e,t){const i=await(0,a.fetch)(`/drawing-template/${e}/?templateName=${encodeURIComponent(t)}`,{credentials:"same-origin"}),n=await c(i);return JSON.parse(n.content)}(e,t)}function D(e,t){return function(e,t){const i=new FormData;return i.append("name",t),i.append("tool",e),(0,a.fetch)("/remove-drawing-template/",{method:"POST",credentials:"same-origin",body:i}).then(c)}(e,t)}},2466:(e,t,i)=>{"use strict";i.d(t,{backend:()=>n});const n=i(30980)},70503:(e,t,i)=>{"use strict";i.d(t,{isDrawingToolbarVisible:()=>c});var n=i(62802),s=i(11688),r=i(62325),o=i.n(r);const a=!s.enabled("hide_left_toolbar_by_default"),l=n.getBool("ChartDrawingToolbarWidget.visible",a),c=new(o())(l)},98956:(e,t,i)=>{"use strict";function n(e){return"seekingalpha"===e||"smartlab-custom"===e?Promise.all([i.e(69129),i.e(86363),i.e(2e3),i.e(15998),i.e(53466),i.e(63562),i.e(63975),i.e(87836),i.e(94763),i.e(63921),i.e(98371),i.e(44408),i.e(54104),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(20976),i.e(14474),i.e(73944),i.e(19055),i.e(91594),i.e(59685),i.e(81030),i.e(70637),i.e(27339),i.e(15522),i.e(87995),i.e(97974),i.e(36084),i.e(96564),i.e(5835)]).then(i.bind(i,5835)):"cme"===e?Promise.all([i.e(69129),i.e(86363),i.e(2e3),i.e(15998),i.e(53466),i.e(63562),i.e(63975),i.e(87836),i.e(94763),i.e(63921),i.e(98371),i.e(44408),i.e(54104),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(20976),i.e(14474),i.e(73944),i.e(91594),i.e(59685),i.e(81030),i.e(70637),i.e(27339),i.e(87995),i.e(97974),i.e(36084),i.e(96564),i.e(99081)]).then(i.bind(i,99081)):Promise.all([i.e(69129),i.e(86363),i.e(2e3),i.e(15998),i.e(53466),i.e(63562),i.e(63975),i.e(87836),i.e(94763),i.e(63921),i.e(98371),i.e(44408),i.e(54104),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(20976),i.e(14474),i.e(73944),i.e(91594),i.e(59685),i.e(81030),i.e(70637),i.e(27339),i.e(87995),i.e(97974),i.e(36084),i.e(96564),i.e(14957)]).then(i.bind(i,14957))}i.d(t,{resolveByCustomer:()=>n})},7175:(e,t,i)=>{"use strict";i.d(t,{addBrandingSource:()=>H});var n=i(12481),s=i(86441),r=i(34026),o=i(91055),a=i(88537),l=i(87236),c=i(11688),d=i(6656),u=i(18718),h=i(76242),_=i(21386),m=i(3008),p=i(64149),g=i(24112),f=i(27185),b=i(27265),v=i(26384),y=i(47978),w=i(88427),S=i(5222);i(95306);const P="Ch{0}ar{1}t{2}by{3}{4}".format("",""," "," ","TradingView"),C="po{0}wer{1}ed{2}by{3}{4}".format("",""," "," ","TradingView"),T=("by{3}{4}".format("",""," "," ","TradingView"),
C),E=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&-1===navigator.userAgent.toLowerCase().indexOf("edge"),x=window.urlParams||{},L=window.initData||{};(x.referral_id||x.no_referral_id)&&(0,f.enable)(x.referral_id||"","aggressive");const k=(0,l.t)("By TradingView"),A=(0,l.t)("{symbol} financials by TradingView"),I=(0,l.t)("More features on tradingview.com"),D=(0,l.t)("powered by")+" ";(0,l.t)(P),(0,l.t)(T);function W(e){return"px EuclidCircular"===e?.1:0}class B extends d.CustomSourceBase{constructor(e,t,i,s){super(e,t),this._canvasWidth=0,this._paneHeight=0,this._left=13,this._bottom=16,this._layout="site_branding",this._needToShow=!0,this._showBranding=!1,this._customLogoSrc="",this._customLogoLink="",this._cubicBezier=new h.CubicBezier(.4,.01,.22,1),this._openAnimation=null,this._closeAnimation=null,this._powBy=null,this._custom=null,this._mainSeries=this._model.mainSeries(),this._showAllowance=i,this._showForPro=Boolean(s),this._checkLayout(),"widget_custom_branding"!==this._layout&&"fundamental_custom_branding"!==this._layout||(this._left=8,this._bottom=5);const r=()=>{this._needToShow?this._showBranding=!0:this._showBranding=!1};this._resizeHandlerDelayed=(0,n.default)(r,200),r(),window.addEventListener("resize",this._resizeHandlerDelayed),this._monitorCanvas=(0,g.createDisconnectedBoundCanvas)(document,new g.Size(0,0)),this._monitorCanvas.subscribeCanvasConfigured(()=>{this._init()}),this._model.isSnapshot()?this._init():(this._mainSeries.dataEvents().symbolResolved().subscribe(this,this._init),null!==this._mainSeries.symbolInfo()&&this._init()),this._renderer={draw:this.draw.bind(this),hitTest:this.hitTest.bind(this)}}destroy(){window.removeEventListener("resize",this._resizeHandlerDelayed),this._mainSeries.dataEvents().symbolResolved().unsubscribeAll(this),this._powBy&&this._powBy.destroy()}paneViews(e){if(window.TradingView.printing)return[];if(!this._showAllowance())return[];if("site_branding"===this._layout&&!this._showForPro&&window.user&&window.user.is_pro)return[];const t=c.enabled("move_logo_to_main_pane");let i=!1;if(e.maximized().value())i=!0;else if(t)i=this._model.mainPane().collapsed().value()?e===this._model.panes().find(e=>!e.collapsed().value()):e.isMainPane();else if(this._model.lastPane().collapsed().value()){const t=this._model.panes();for(let n=t.length-1;n>=0;--n){const s=t[n];if(!s.collapsed().value()){i=s===e;break}}}else i=e.isLast();return i?[{renderer:this.renderer.bind(this)}]:[]}labelPaneViews(e){return[]}priceAxisViews(e,t){return[]}updateAllViews(){}updateViewsForPane(e){}priceScale(){return null}renderer(e,t){return this._paneHeight=e,this._canvasWidth=t,this._renderer}hasContextMenu(){return!1}onClickOutside(){this._hasAnimation()&&this._startCloseAnimation()}hitTest(e){return!this._showBranding||c.enabled("logo_without_link")?null:this._powBy&&"widget_custom_no_powered_branding"!==this._layout&&"fundamental_custom_no_powered_branding"!==this._layout&&(this._powBy.hitTest(e)||this._custom&&this._custom.hitTest(e))?new u.HitTestResult(u.HitTestResult.CUSTOM,{
hideCrosshairLinesOnHover:!0,clickHandler:()=>{this._openLink()},tapHandler:()=>{this._hasAnimation()?this._toggleOpenAnimatedOrOpenLink():this._openLink()},mouseEnterHandler:()=>{this._hasAnimation()&&this._startOpenAnimation()},mouseLeaveHandler:()=>{this._hasAnimation()&&this._startCloseAnimation()}}):null}tvUrl(){var e;let t=new URL("https://www.tradingview.com/");{const i=(null===(e=this._mainSeries.symbolInfo())||void 0===e?void 0:e.pro_name)||"";if(c.enabled("referral_program_for_widget_owners")){const e=(0,f.referenceToTradingView)(),n=e.indexOf("utm_source");return-1!==n&&(t=new URL(e.slice(0,n))),t.searchParams.append("utm_source",x.utm_source||""),t.searchParams.append("utm_medium",x.utm_medium||""),t.searchParams.append("utm_campaign",x.utm_campaign||""),t.searchParams.append("utm_term",i),t.toString()}const n=this._mainSeries.symbolInfo(),s=(null==n?void 0:n.name)||"APPL",r=(null==n?void 0:n.listed_exchange)||"";if(!L.customer&&s){const e=(0,b.getSymbolPagePath)({shortName:s,exchange:r});t=new URL(t.toString().replace(/\/$/,"")+e)}t.searchParams.append("utm_source",x.utm_source||""),t.searchParams.append("utm_medium",x.utm_medium||""),t.searchParams.append("utm_campaign",x.utm_campaign||""),t.searchParams.append("utm_term",i)}return t.toString()}draw(e,t){if(!this._showBranding)return;let i=0;x.utm=!0,(0,g.drawScaled)(e,t.pixelRatio,()=>{this._powBy&&this._powBy.show&&(i=this._powBy.height,e.save(),e.translate(this._left,this._paneHeight-this._bottom-i),this._powBy.draw(e,t,this._canvasWidth),e.restore()),this._custom&&this._custom.show&&(e.save(),e.translate(this._left,this._paneHeight-this._bottom-i-this._custom.height),this._custom.draw(e,t),e.restore())})}_init(){const e=this._mainSeries.symbolInfo();this._powBy&&this._powBy.destroy(),this._powBy=new V(this._layout,(null==e?void 0:e.name)||"",this._model,()=>this._model.fullUpdate()),this._custom=new j(this._layout,this._customLogoSrc,()=>this._model.fullUpdate()),this._openAnimation=null,this._closeAnimation=null}_checkLayout(){if(c.enabled("widget")){const e=L.logo||{},t=c.enabled("fundamental_widget");this._needToShow=!(L.whitelabel||x.whitelabel||e.whitelabel),e.image?(this._customLogoSrc="/static/images/widget-embed-logo/"+e.image,e.no_powered_by?this._layout=t?"fundamental_custom_no_powered_branding":"widget_custom_no_powered_branding":this._layout=t?"fundamental_custom_branding":"widget_custom_branding"):x.referral_id||x.no_referral_id?this._layout="widget_referral_branding":this._layout=t?"fundamental_branding":"widget_branding"}else if(c.enabled("charting_library")||c.enabled("trading_terminal")){const e=JSON.parse(x.logo)||{};e.image?(this._customLogoSrc=e.image,this._customLogoLink=e.link,this._needToShow=c.enabled("widget_logo"),c.enabled("link_to_tradingview")?this._layout="library_custom_branding":this._layout="library_custom_no_powered_branding"):(this._layout="library_branding",this._needToShow=c.enabled("widget_logo"))}else this._layout="site_branding"}_startOpenAnimation(){
null===this._openAnimation&&(null!==this._closeAnimation&&(this._closeAnimation.stop(),this._closeAnimation=null),this._openAnimation=(0,m.doAnimate)({from:this._currentStateForAnimation(),to:this._openedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}_startCloseAnimation(){null===this._closeAnimation&&(null!==this._openAnimation&&(this._openAnimation.stop(),this._openAnimation=null),this._closeAnimation=(0,m.doAnimate)({from:this._currentStateForAnimation(),to:this._closedStateForAnimation(),duration:200,easing:this._cubicBezier.easingFunc,onStep:this._animatedDrawStep.bind(this)}))}_currentStateForAnimation(){return(0,a.ensureNotNull)(this._powBy).width}_closedStateForAnimation(){return(0,a.ensureNotNull)(this._powBy).minimizedAnimationWidth()}_openedStateForAnimation(){return(0,a.ensureNotNull)(this._powBy).maximizedAnimationWidth()}_animatedDrawStep(e,t){(0,a.ensureNotNull)(this._powBy).animatedDrawStep(e,t),this._model.lightUpdate()}_hasAnimation(){return null!==this._powBy&&this._powBy.hasAnimation()}_openLink(){if("site_branding"===this._layout)return!1;c.enabled("widget")&&(0,v.sendWidgetTrackData)(this.tvUrl(),"copyright");return(0,a.ensureNotNull)(window.open(this.tvUrl(),"_blank")).opener=null,!0}_toggleOpenAnimatedOrOpenLink(){null!==this._openAnimation&&this._openAnimation.completed()?this._openLink()||this._startCloseAnimation():this._startOpenAnimation()}}const O={customBrandingTradingViewText:o.colorsPalette["color-brand"],customBrandingText:o.colorsPalette["color-cold-gray-850"],background:o.colorsPalette["color-cold-gray-900"],shadow:(0,_.generateColor)(o.colorsPalette["color-white"],91),text:o.colorsPalette["color-white"],staticTextBackground:(0,_.generateColor)(o.colorsPalette["color-cold-gray-800"],20),logo:o.colorsPalette["color-white"]},F={customBrandingTradingViewText:o.colorsPalette["color-brand"],customBrandingText:o.colorsPalette["color-cold-gray-850"],background:o.colorsPalette["color-white"],shadow:(0,_.generateColor)(o.colorsPalette["color-black"],91),text:o.colorsPalette["color-cold-gray-900"],staticTextBackground:(0,_.generateColor)(o.colorsPalette["color-white"],20),logo:o.colorsPalette["color-cold-gray-900"]};const R={};function N(e,t){const i=R[e];if(void 0!==i)return i.image||null;const n={};return R[e]=n,function(e){return new Promise(t=>{const i=y.replace(/fill="#[\da-f]{6}"/i,`fill="${e}"`),n=new Image;n.onload=()=>{n.onload=null,t(n)},n.src=URL.createObjectURL(new Blob([i],{type:"image/svg+xml"}))})}(e).then(e=>{n.image=e,t()}),null}function z(e){const{a:t,d:i,e:n,f:r}=e;return new s.Point(n/t,r/i)}class M{constructor(){this._originPoint=null}hitTest(e){const t=this._getHitTestBox();if(t)return(0,r.pointInBox)(e,t)}_getHitTestBox(){const e=this._originPoint;if(e){const{x:t,y:i}=e;return(0,s.box)(e,new s.Point(t+this.width,i+this.height))}}}class V extends M{constructor(e,t,i,n){if(super(),this.show=!0,this.borderRadius=0,this._needDisplayImage=!1,this._imageWidth=22,this._imageHeight=11,this._animatedWidth=32,
this._font="px "+w.CHART_FONT_FAMILY,this._txt="TradingView",this._textWidth=0,this._maximizedAnimationTextWidth=0,this._textWidthCache=new S.TextWidthCache,this._pixelRatio=1,this._model=i,this._layout=e,this._symbol=t,this.showAnimatedBranding=c.enabled("show_animated_logo")||"widget_branding"===this._layout,this._fontSize=this.showAnimatedBranding?11:14,this.showAnimatedBranding||"widget_custom_branding"!==this._layout&&"fundamental_custom_branding"!==this._layout||(this._fontSize=12),this.width=32,this.height=this._fontSize+2,this._onReadyCallback=n,this._init(),document.fonts&&document.fonts.check&&document.fonts.load){document.fonts.check(this._fontSize+"px EuclidCircular")?this._font="px EuclidCircular":document.fonts.load(this._fontSize+"px EuclidCircular",this._txt).then(()=>{this._font="px EuclidCircular",this._recalculateMetrics()})}this._recalculateMetrics()}destroy(){this._model.properties().childs().paneProperties.childs().background.unsubscribeAll(this),this._model.onChartThemeLoaded().unsubscribeAll(this)}hasAnimation(){return this.showAnimatedBranding}minimizedAnimationWidth(){return 32}maximizedAnimationWidth(){return this._maximizedAnimationTextWidth+32-3}animatedDrawStep(e,t){this._animatedWidth=t}draw(e,t,i){t.pixelRatio!==this._pixelRatio&&(this._textWidthCache.reset(),this._pixelRatio=t.pixelRatio);const n=this._colors;if(this.showAnimatedBranding)this._needDisplayImage&&null!==this._getLogoImage(n.logo)&&(e.save(),e.translate(-Math.ceil((32-this._imageWidth)/2),Math.floor((32-this._imageHeight)/2)),this._originPoint=z(e.getTransform()),this.borderRadius=16,this._drawFillRectWithRoundedCorner(e,-.5,0,this._animatedWidth,32,this.borderRadius),this._drawLogoImage(e,Math.round((32-this._imageWidth)/2),Math.round((32-this._imageHeight)/2)+0),this._animatedWidth>32&&(e.translate(Math.round(32),Math.round(this._fontSize*W(this._font))),this._drawFillTextCropWidth(e,this._animatedWidth-32)),e.restore(),this.width=this._animatedWidth);else if("widget_custom_branding"===this._layout||"fundamental_custom_branding"===this._layout){e.font=this._fontSize+this._font;const t=e.measureText(this._txt).width+2;this.width=t+e.measureText("TradingView").width+2,this._originPoint=z(e.getTransform()),e.save(),e.globalAlpha=.7,e.fillStyle=this._colors.customBrandingText,e.fillText(this._txt,0,12),e.fillStyle=this._colors.customBrandingTradingViewText,e.fillText("TradingView",t,12),e.restore()}else if(this._needDisplayImage&&null!==this._getLogoImage(n.logo)){e.save(),e.translate(-Math.ceil((32-this._imageWidth)/2),Math.floor((32-this._imageHeight)/2)),this._originPoint=z(e.getTransform()),this.borderRadius=16,this._drawBgCircle(e),e.drawImage((0,a.ensureNotNull)(this._getLogoImage(n.logo)),Math.round((32-this._imageWidth)/2),Math.round((32-this._imageHeight)/2)+0);const t=!0;t&&(e.translate(37,Math.round(this._fontSize*W(this._font))),this._drawTextStroke(e),this._drawTextFill(e)),e.restore(),this.width=32,t&&(this.width+=this._maximizedAnimationTextWidth)}else{const t=!0;t&&(e.save(),e.translate(E?-.5:0,-.5),
this._drawTextStroke(e),this._drawTextFill(e),e.restore()),t&&(this.width=this._maximizedAnimationTextWidth)}}_init(){this._checkLayout(),this.show&&(this.height=this._needDisplayImage?32:this._fontSize+2,this._updateColors(),this._model.properties().childs().paneProperties.childs().background.subscribe(this,this._updateColors),this._model.onChartThemeLoaded().subscribe(this,this._updateColors))}_recalculateMetrics(){const e=(0,g.createDisconnectedBoundCanvas)(document,new g.Size(0,0)),t=(0,g.getPretransformedContext2D)(e,!0);t.font=this._fontSize+this._font,this._textWidth=Math.ceil(t.measureText(this._txt).width)+2;let i=this._textWidth+8;i%2==0&&(i+=1),this._maximizedAnimationTextWidth=i,this._textWidthCache.reset()}_updateColors(){this._colors=this._model.isDark()?O:F}_getLogoImage(e){return N(e,this._onReadyCallback)}_checkLayout(){switch(this._layout){case"widget_branding":case"widget_referral_branding":case"widget_custom_branding":case"fundamental_branding":case"fundamental_custom_branding":case"library_custom_branding":case"library_branding":case"site_branding":this.show=!0;break;case"widget_custom_no_powered_branding":case"fundamental_custom_no_powered_branding":case"library_custom_no_powered_branding":this.show=!1}switch(this._layout){case"widget_branding":this._needDisplayImage=!0,this._txt=k;break;case"fundamental_branding":this._txt=A.format({symbol:this._symbol});break;case"widget_referral_branding":this._txt=I;break;case"widget_custom_branding":case"fundamental_custom_branding":this._txt=D;break;case"site_branding":this._needDisplayImage=!0}}_drawTextStroke(e){e.save(),e.textBaseline="middle",e.textAlign="start",e.font=this._fontSize+this._font,e.strokeStyle=this._colors.staticTextBackground,e.lineWidth=4,e.lineJoin="round",e.strokeText(this._txt,0,16+this._textWidthCache.yMidCorrection(e,this._txt)),e.restore()}_drawTextFill(e){e.save(),e.textBaseline="middle",e.textAlign="start",e.font=this._fontSize+this._font,e.fillStyle=this._colors.text,e.fillText(this._txt,0,16+this._textWidthCache.yMidCorrection(e,this._txt)),e.restore()}_drawFillTextCropWidth(e,t){e.save(),e.beginPath(),e.rect(0,0,t,this.height),e.clip(),this._drawTextFill(e),e.restore()}_drawBgCircle(e){const t=this.borderRadius,i=2*Math.PI;e.save(),e.beginPath(),e.fillStyle=this._colors.shadow,e.arc(t,t,t+1,0,i),e.fill(),e.closePath(),e.restore(),e.save(),e.beginPath(),e.fillStyle=this._colors.background,e.arc(t,t,t,0,i,!1),e.fill(),e.closePath(),e.restore()}_drawFillRectWithRoundedCorner(e,t,i,n,s,r){e.save(),(0,p.drawRoundRect)(e,t-1,i-1,n+2,s+2,r),e.fillStyle=this._colors.shadow,e.fill(),e.closePath(),e.restore(),e.save(),(0,p.drawRoundRect)(e,t,i,n,s,r),e.fillStyle=this._colors.background,e.fill(),e.closePath(),e.restore()}_drawLogoImage(e,t,i){e.drawImage((0,a.ensureNotNull)(this._getLogoImage(this._colors.logo)),t,i)}}class j extends M{constructor(e,t,i){super(),this.show=!1,this.width=0,this.height=0,this._ready=!1,this._layout=e,this._src=t,this._onReadyCallback=i,this._checkLayout();const n=new Image;this._img=n,
this.show&&(n.addEventListener("load",()=>{this.width=Math.round(n.width),this.height=Math.round(n.height),this._ready=!0,this._onReadyCallback&&this._onReadyCallback()}),n.crossOrigin="anonymous",n.src=this._src)}draw(e,t){this._ready&&(e.drawImage(this._img,-.5,-.5,this.width,this.height),this._originPoint=z(e.getTransform()))}_checkLayout(){switch(this._layout){case"widget_custom_branding":case"widget_custom_no_powered_branding":case"fundamental_custom_branding":case"fundamental_custom_no_powered_branding":case"library_custom_branding":case"library_custom_no_powered_branding":this.show=!0;break;case"site_branding":case"widget_branding":case"widget_referral_branding":case"fundamental_branding":case"library_branding":this.show=!1}}}function H(e,t){function i(t){const i=e.getAll();if(1===i.length)return!0;const n=i[0].hasModel()&&i[0].model();return n&&n.model()===t}e.addCustomSource("branding",(e,n)=>new B(e,n,i.bind(null,n),t))}},17191:(e,t,i)=>{"use strict";i.d(t,{EmbedFooterWidget:()=>o});var n=i(87236),s=i(60025),r=(i(13413),i(23127));class o{constructor({resizerBridge:e,publishOptions:t}){this._publishOptions=t,e.negotiateHeight(31),e.container.subscribe(this._render.bind(this),{callWithLast:!0})}_render(e){r(e).empty().css("overflow","hidden");const t=r("<div>",e).attr("id","footer-chart-panel").addClass("publish-widget").appendTo(e),i=r("<div>",e).addClass("publish-buttons").appendTo(t);"dailyfx"===this._publishOptions.publishSource&&r('<label class="usage-help">For a guide on using Trading View charts, please click <a target="_blank" href="https://media.dailyfx.com/docs/TradingView.pdf">here</a>.</label>').appendTo(t),r('<a class="publish-chart-button"></a>').html((0,n.t)("Publish Idea")).on("click",e=>{e.preventDefault(),(0,s.publishChartWidget)(this._publishOptions)}).addClass("apply-common-tooltip").attr("title",(0,n.t)("Share your idea with the trade community")).appendTo(i)}}},60339:(e,t,i)=>{"use strict";i.d(t,{takeChartSnapshotPromise:()=>a,takeChartSnapshot:()=>l,makeSnapshotRequest:()=>c});i(97116);var n=i(87236),s=i(11688),r=i(29534),o=i(86674);function a(e,t={}){return new Promise((i,n)=>{l(e,i,n,t)})}async function l(e,t,i,n={}){var s;const r=new FormData;if(void 0!==n.previews)for(const e of n.previews)r.append("previews[]",e);void 0!==n.cme&&r.append("cme",String(n.cme)),void 0!==n.wl&&r.append("wl",String(n.wl)),void 0!==n.onWidget&&r.append("onWidget",String(n.onWidget)),n.isReport&&r.append("isReport",String(n.isReport)),n.asyncSave&&r.append("asyncSave",String(n.asyncSave));const o=window.urlParams;o&&o.locale&&r.append("language",o.locale);const a=e.activeChartWidget.value(),l=a.widgetCustomer();void 0!==l&&r.append("customer",l);let d=a.properties().childs().timezone.value();"exchange"===d&&(d=(null===(s=a.model().mainSeries().symbolInfo())||void 0===s?void 0:s.timezone)||d),r.append("timezone",d),r.append("symbol",a.model().mainSeries().symbol());const u=await e.clientSnapshot({showHeaderMainSymbol:n.showHeaderMainSymbol}),h=await new Promise(e=>u.toBlob(e))
;null!==h&&r.append("preparedImage",h),c(r,t,i,n)}async function c(e,t,a,l={}){const c=s.enabled("charting_library_base")?l.snapshotUrl||"https://www.tradingview.com/snapshot/":"/snapshot/";try{const s=await(0,o.fetch)(c,{body:e,method:"POST",credentials:"same-origin"}),d=await s.text();if(s.ok)t(d);else{if("suspicious_chart_snapshots_error"===d){const e=(0,n.t)("Snapshot seems to contain prohibited content. Please contact {start_link}our support team{end_link} if you have received this by mistake.").format({start_link:'<a class="tv-dialog__link js-send-report-link" href="#" data-issue-type="other">',end_link:"</a>"});l.onInvalidSnapshotImage&&l.onInvalidSnapshotImage();return(0,r.createErrorDialog)({title:(0,n.t)("Your snapshot was flagged as suspicious"),content:e,btnType:"danger"}).then(e=>{e.on("afterOpen",()=>{i.e(1484).then(i.bind(i,80567)).then(({bugDialogCreationHandler:t})=>{t(),e.$el.find(".js-send-report-link").click(()=>{e.close()})})}),e.open()})}a()}}catch(e){a()}}},82991:(e,t,i)=>{"use strict";i.d(t,{PinePerm:()=>l});i(23127);var n=i(86674),s=i(23127);const r="user__username";function o(e){const t=new FormData;return t.append("pine_id",e.pine_id),t.append("username_recip",e.username_recip),e.expiration&&t.append("expiration",e.expiration),t}class a extends Error{constructor(e,t,i){super(e),this.title=i,this.code=t}}var l;!function(e){let t;!function(e){e.UserDoesNotHavePermission="user_does_not_have_permission",e.UserIsBanned="user_is_banned",e.Exists="exists"}(t=e.StatusCode||(e.StatusCode={})),e.add=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/add/",{body:o(e),credentials:"include",method:"POST"}).then(e=>e.json().then(t=>{const i=t.status;if("exists"===i)throw new a(i,i);if(!e.ok)throw new a(t.detail,t.code,t.title)})):Promise.reject()},e.remove=function(e,t){return window.is_authenticated?s.ajax({data:{pine_id:t,username_recip:e},dataType:"json",type:"POST",url:"/pine_perm/remove/"}):s.Deferred().reject()},e.listUsers=function(e){const{pineId:t,next:i,prev:n,username:o,orderBy:a=r,limit:l=10}=e;return!window.is_authenticated||n&&!i?s.Deferred().reject():s.ajax({data:{pine_id:t,username:o},dataType:"json",type:"POST",url:i||n?""+i:`/pine_perm/list_users/?limit=${l}&order_by=${a}`})},e.listScripts=function(){return window.is_authenticated?s.ajax({dataType:"json",type:"POST",url:"/pine_perm/list_scripts/"}):s.Deferred().reject()},e.modifyUserExpiration=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/modify_user_expiration/",{body:o(e),credentials:"include",method:"POST"}).then(e=>{if(!e.ok)return e.json().then(e=>{throw Error(e.detail)})}):Promise.reject()},e.numberOfUsersWithAccess=function(e){return window.is_authenticated?(0,n.fetch)("/pine_perm/list_users/?pine_id="+e,{method:"GET"}).then(e=>e.ok?e.json():e.json().then(e=>{throw new a(e.detail)})):Promise.reject()}}(l||(l={}))},44456:(e,t,i)=>{"use strict";var n=i(23127);i(68522),i(13413);var s=i(25226).isFeatureEnabled;const r=i(11688);r.enabled("use_localstorage_for_settings")&&TVSettings.sync()
;var o=i(87236).t,a=i(85518),l=i(64170),c=i(98935).ChartSaver,d=i(60339).takeChartSnapshot,u=i(14370),h=i(52302),_=i(83912).linking,m=i(66437),p=i(24418).getQuoteSessionInstance,g=i(34440),f=i(95048),b=i(49473),v=b.isRangeStyle,y=b.getDefaultStyle,w=i(73044).Interval,S=i(64019).getDefaultResolution,P=i(55790),C=i(21386),T=i(17191).EmbedFooterWidget,E=i(80028).StudyMarket,x=i(70503).isDrawingToolbarVisible,L=i(40135),k=i(9740).setTheme,A=i(78785).mobiletouch,I=i(26974).availableTimeFrames,D=i(10899).dispatchEventToParent,W=i(10899).listenEventFromParent,B=i(96080).IFrameEvents,O=i(96080).ParentEvents,F=i(98956).resolveByCustomer,R=i(7175).addBrandingSource,N=i(64387).setupChartEventHint,z=i(60509).setupChartScreenshotHint,M=i(77748).whenDocumentReadyPromise,V=i(75420).initGA,j=i(50201).registerSingleSymbolListBackend,H=i(37157).registerSettingsSymbolListBackend;var U=window.initData,q=window.urlParams,G=U.defSymbol,Y=void 0!==U.def_extended_hours?U.def_extended_hours?"extended":"regular":U.def_session_id,J=U.hide_ideas,X=U.hide_ideas_button,$=U.def_interval,K=U.def_style,Z=U.def_timezone,Q=U.customer;const ee=U.customerReadableName;var te,ie=q.range||U.def_range,ne=q.enablepublishing||U.def_enable_publishing,se=q.withdateranges||U.def_withdateranges,re=U.def_save_image,oe=!(q.hideIdeas||q.hideideasbutton||J||X);void 0!==q.saveimage&&(re="0"!==q.saveimage),r.setEnabled("header_screenshot",re?1:0),q.fundamental&&(r.setEnabled("create_volume_indicator_by_default",0),r.setEnabled("header_chart_type",0),r.setEnabled("header_compare",0),r.setEnabled("display_market_status",0),r.setEnabled("delete_button_in_legend",0),r.setEnabled("study_buttons_in_legend",0),r.setEnabled("format_button_in_legend",0),r.setEnabled("show_hide_button_in_legend",0),r.setEnabled("fundamental_widget",1),r.setEnabled("legend_context_menu",0),X=!0,J=!0,se=!0,$="D","seekingalpha"===Q&&(se=!1,r.setEnabled("header_resolutions",0),r.setEnabled("header_fullscreen_button",0))),"bovespa"===Q&&(r.disable("header_settings"),te=[{symbol:"IBOV",title:"Bovespa Index"},{symbol:"IBXX",title:"Brazil 100 Index"},{symbol:"IBXL",title:"Brazil 50 Index"},{symbol:"IBRA",title:"Brazil Broad-Based Index"},{symbol:"IGCX",title:"Special Corporate Governance Stock Index"},{symbol:"ITAG",title:"Special Tag-Along Stock Index"},{symbol:"IGNM",title:"Novo Mercado Corporate Governance Equity Index"}]),(void 0===q.symboledit?U.def_hide_symbol_edit:!parseInt(q.symboledit))&&r.setEnabled("header_symbol_search",0),window.pro=new u(window.shopConf);G=q.symbol||G;"cme"===q.symbology&&(G=function(e){var t=new m.SymbolToken(e);if(!t.root())return e;var i=h.convertSymbolDataToTV(t.root(),t.exchange(),q.venue);return"ok"!==i.status?e:(i.data.symbol&&t.root(i.data.symbol),i.data.exchange&&t.exchange(i.data.exchange),t.toString())}(G));var ae=Y;"1"!==q.extended_hours&&"1"!==q.session_id||(ae="extended"),"0"!==q.extended_hours&&"0"!==q.session_id||(ae="regular");var le=g(parent),ce=i(90523).Root,de=new(0,i(60641).ChartPage)(new ce(window).allocate());if(ie){
var ue=I(null,f.STATUS_READY).find((function(e){return e.value.value===ie}));ue&&(q.range=ie,q.interval=ue.targetResolution)}var he,_e,me=J;function pe(e,t){return void 0===e?t:"1"===e}he=void 0===q.interval?void 0===q.style?$:S(v(parseInt(q.style))):q.interval,_e=void 0===q.style?void 0===q.interval?parseInt(K):y(w.isRange(q.interval)):parseInt(q.style);var ge=window.chartWidgetCollection=new l({resizerBridge:de.allocate({areaName:"center"}),padding:5,edge:q.padding||0,publishedChartsEnabled:!1,saveChartEnabled:!1,widgetOptions:{onWidget:!0,addToWatchlistEnabled:!1,propertyPagesEnabled:!1,chartEventsEnabled:!0,esdEnabled:!q.fundamental,sourceStatusesWidget:{errorSolution:!1},marketStatusWidgetEnabled:!q.fundamental,chartWarningWidget:{subscriptionFullInfo:!1},widgetCustomer:Q,customerReadableName:ee,hideIdeas:me,controlBarEnabled:!0,addVolume:!q.hidevolume,muteSessionErrors:!r.enabled("referral_program_for_widget_owners"),defSymbol:G,defInterval:he,defStyle:_e,defSessionId:ae,timezone:q.timezone||Z,defTimeframe:ie,isDrawingToolbarVisible:x,watermarkEnabled:!q.fundamental,crossHairMenuEnabled:!1,paneContextMenuEnabled:!1,compareSymbols:te,timeScaleWidget:{contextMenuEnabled:!1,timezoneMenuEnabled:!1},timeScale:{preserveBarSpacing:!0,lockVisibleTimeRangeOnResize:!1},legendWidgetEnabled:!q.hidelegend,legendWidget:{contextMenuEnabled:!q.fundamental,contextMenu:{settings:!1,fundamentals:!1,showOpenMarketStatus:!q.fundamental},alertWidgetEnabled:!1},goToDateEnabled:!1,handleScroll:{vertTouchDrag:pe(q.verttouchdrag,!1),horzTouchDrag:pe(q.horztouchdrag,!0)},handleScale:{mouseWheel:pe(q.mousewheelscale,"investopedia"!==Q)},currencyConversionEnabled:!0,unitConversionEnabled:s("unit_conversion")},seriesControlBarEnabled:!!se,seriesControlBar:{timeFramesWidgetEnabled:!0,timeFramesWidget:{goToDateEnabled:!1,availableTimeFrames:I},timeWidgetEnabled:!q.fundamental,timeWidget:{timezoneMenuEnabled:!1},adjustForDividendsButtonEnabled:!0,sessionIdButtonEnabled:Y,backAdjustmentButtonEnabled:!1,settlementAsCloseButtonEnabled:!1,percentageScaleButtonEnabled:!0,logScaleButtonEnabled:!q.fundamental,autoScaleButtonEnabled:!q.fundamental,fullscreenButtonEnabled:!0,mobileChangeLayoutEnabled:!1},mobileForceChartMaximizeEnabled:!1});q.studies_overrides&&ge.applyStudiesOverrides(JSON.parse(q.studies_overrides)),R(ge);var fe,be=ge.activeChartWidget.value();if(window.chartWidget=be,ge.readOnly()||(window.studyMarket=new E(ge,{onWidget:!0})),_.bindToChartWidgetCollection(ge),D(B.Names.WidgetLoad,q.frameElementId||null,void 0),q.theme){var ve=q.theme.toLowerCase(),ye=L.themes[ve];if(ye&&(k(ve),!ye.noChartTheme)){var we=q.theme&&q.theme.toLowerCase(),Se=L.getStdTheme(we);Se&&Se.content&&(fe=Se.content,q.style&&(fe.mainSourceProperties.style=parseInt(q.style)),q.fundamental&&(fe.mainSourceProperties.visible=!1),a.applyDefaultsOverrides(fe,{mainSeriesProperties:"mainSourceProperties"},!0))}}be.withModel(null,(function(){var e=be.model().mainSeries();be.applyOverrides({"mainSeriesProperties.showCountdown":!1}),fe&&be.model().model().restoreTheme(fe),
e.dataEvents().symbolResolved().subscribe(e,(function(){!function(e,t){if(!t)return;var i=e.model().model();try{JSON.parse(decodeURIComponent(t)).forEach((function(e){var t=i.createStudyInserter({type:"java",studyId:e.id});t.setForceOverlay(e.overlay),t.insert((function(){return Promise.resolve({inputs:e.inputs})}))}))}catch(e){(t.split(/\x1f/)||[]).forEach((function(e){i.createStudyInserter({type:"java",studyId:e}).insert()}))}}(window.chartWidget,q.studies)}),!0),e.dataEvents().completed().subscribe(this,(function(){fe&&n(".loading-indicator").hide(),N&&(N(ge,!0),N=null),z&&(z(ge,{seriesControlBarEnabled:!!se}),z=null)})),e.dataEvents().symbolError().subscribe(null,(function(){D(B.Names.NoData,q.frameElementId||null,void 0)}))})),ne&&(new T({resizerBridge:de.allocate({areaName:"bottom"}),publishOptions:{onWidget:!0,publishSource:q.publishsource}}),n.get("/accounts/status_full/",{},(function(e){e.is_authenticated&&(window.is_authenticated=!0,window.user=e.user_data)})));var Pe=window.saver=new c(ge);if(TradingView.setWidgetLogoOverlayVisibility=function(e){le.post(parent,"setLogoOverlayVisibility",{visible:!!e})},void 0===q.hidesidetoolbar||+q.hidesidetoolbar?n(".tv-side-toolbar").addClass("js-hidden"):Promise.all([Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(94763),i.e(63921),i.e(3520),i.e(87670),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(86416),i.e(81030),i.e(11946),i.e(59284),i.e(52567),i.e(43251),i.e(36594),i.e(87995),i.e(97974),i.e(29594),i.e(36383),i.e(68434),i.e(91890),i.e(73558)]).then(i.t.bind(i,59496,19)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(94763),i.e(63921),i.e(3520),i.e(87670),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(86416),i.e(81030),i.e(11946),i.e(59284),i.e(52567),i.e(43251),i.e(36594),i.e(87995),i.e(97974),i.e(29594),i.e(36383),i.e(68434),i.e(91890),i.e(73558)]).then(i.t.bind(i,87995,19)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(94763),i.e(63921),i.e(3520),i.e(87670),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(86416),i.e(81030),i.e(11946),i.e(59284),i.e(52567),i.e(43251),i.e(36594),i.e(87995),i.e(97974),i.e(29594),i.e(36383),i.e(68434),i.e(91890),i.e(73558)]).then(i.bind(i,66796)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(53466),i.e(87836),i.e(94763),i.e(63921),i.e(3520),i.e(87670),i.e(57419),i.e(56909),i.e(19042),i.e(81112),i.e(86416),i.e(81030),i.e(11946),i.e(59284),i.e(52567),i.e(43251),i.e(36594),i.e(87995),i.e(97974),i.e(29594),i.e(36383),i.e(68434),i.e(91890),i.e(73558)]).then(i.t.bind(i,65808,23))]).then(([e,t,{DrawingToolbar:i},{default:n}])=>{var s=de.allocate({areaName:"left"});t.render(e.createElement(i,{chartWidgetCollection:ge,forceVisible:!(void 0===q.hidesidetoolbar||+q.hidesidetoolbar),resizerBridge:s,screenshotButton:"cme"===Q}),s.container.value()),window.lineToolPropertiesToolbar=new n(ge)}),!q.hidetoptoolbar){var Ce=F(Q)
;Promise.all([Promise.all([i.e(78268),i.e(43251),i.e(41320),i.e(87995),i.e(97974),i.e(79022)]).then(i.t.bind(i,59496,19)),Promise.all([i.e(78268),i.e(43251),i.e(41320),i.e(87995),i.e(97974),i.e(79022)]).then(i.t.bind(i,87995,19)),Promise.all([i.e(78268),i.e(43251),i.e(41320),i.e(87995),i.e(97974),i.e(79022)]).then(i.bind(i,86511)),Promise.all([i.e(78268),i.e(43251),i.e(41320),i.e(87995),i.e(97974),i.e(79022)]).then(i.bind(i,77653)),Promise.all([i.e(78268),i.e(43251),i.e(41320),i.e(87995),i.e(97974),i.e(79022)]).then(i.bind(i,76387))]).then(([e,t,{HeaderToolbar:i},{SaveChartService:n},{LoadChartService:s}])=>{var r=de.allocate({areaName:"top"});Ce.then((function(e){return e.getToolSet()})).then((function(o){var a=A?["full"]:void 0;t.render(e.createElement(i,{tools:o,chartSaver:Pe,chartApiInstance:ChartApiInstance,availableTimeFrames:I,chartWidgetCollection:ge,ideas:oe,hideProperties:!0,hideStudyTemplates:!0,resizerBridge:r,popupButton:q.showpopupbutton,studyMarket:window.studyMarket,windowMessageService:le,isFundamental:Boolean(q.fundamental),allowedModes:a,saveChartService:new n(ge,Pe),loadChartService:new s(ge)}),r.container.value())}))})}if(q.toolbarbg){var Te=C.isHexColor(q.toolbarbg)?"#"+q.toolbarbg:q.toolbarbg;n("#widget-container").css("background-color",Te)}var Ee,xe=[],Le=[];if(q.watchlist&&(Le=q.watchlist.split(/\x1f/).map((function(e){return e.trim()})).filter(Boolean)),Le.length||q.editablewatchlist){var ke={type:"watchlist",properties:{list:Le}};q.editablewatchlist?(ke.readonly=!1,ke.data={hideTitleButton:!0},ke.settingsKey="onwidget.watchlist",ke.unAuthEditable=!0,H(Le)):j(Le),xe.push(ke)}"details"in q&&xe.push({type:"detail"}),"widgetbarwidth"in q&&(Ee=+q.widgetbarwidth),(!isFinite(Ee)||Ee<200)&&(Ee=200);var Ae,Ie,De=xe.length?[{name:"base",title:o("Widgets"),icon:"base",widgets:xe.map((function(e){return e}))}]:[];q.hotlist&&De.push({name:"hotlist",title:o("Hotlists"),icon:"hotlists",widgets:[{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"volume_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_gainers"}}},{type:"hotlist",properties:{exchangeByLocale:{default:window.COUNTRY_CODE_TO_DEFAULT_EXCHANGE.en},groupByLocale:{default:"percent_change_loosers"}}}]}),q.calendar&&De.push({name:"calendar",title:o("Calendar"),icon:"calendar",widgets:[{type:"reuters_calendar",properties:{}},{type:"earnings_calendar",properties:{}}]}),De.length&&Promise.all([i.e(31205),i.e(16061),i.e(63975),i.e(66708),i.e(24555),i.e(69565),i.e(6096),i.e(23359),i.e(29814),i.e(31924),i.e(37238),i.e(88307),i.e(15574),i.e(60777),i.e(11946),i.e(29993),i.e(40971),i.e(47814),i.e(87995),i.e(97974),i.e(93921),i.e(20651),i.e(69052),i.e(18995),i.e(93682),i.e(26612),i.e(5324),i.e(1912),i.e(21391),i.e(90342),i.e(54876)]).then(i.bind(i,90146)).then(({WidgetBar:e})=>{De.forEach((function(e){e.widgets=e.widgets.filter((function(e){return!(void 0!==e.isEnabled&&!e.isEnabled)}))}))
;const t=i(67232).configuration;window.widgetbar=new e({resizerBridge:de.allocate({areaName:"right"}),readonly:!0,state:{width:Ee,pages:De},overlayThreshold:640,showCloseButton:!0,configuration:()=>t({chartApiInstance:window.ChartApiInstance})})}),be.onDisconnected().subscribe(null,(function(e){n(".loading-indicator").hide(),e&&P.showCriticalErrorMessage((function(){ChartApiInstance.disconnect(),setTimeout((function(){ChartApiInstance.connect(),be.reconnect()}),500)}))})),be.onReconnectBailout().subscribe(null,(function(){P.showDisconnectedMessage((function(){setTimeout((function(){ChartApiInstance.connect()}),0)}))})),n(".tv-content").bind("contextmenu",(function(e){var t=n(e.originalEvent.target);if(!t.is("input")&&!t.is("textarea"))return!1})),q.whotrades&&r.setEnabled("whotrades_auth_only",!0),n(window).resize(),n(".loading-indicator").remove(),Ie=function(e){void 0!==Ae&&p("simple").unsubscribe("widgetQuoteListener",Ae),Ae=e,p("simple").subscribe("widgetQuoteListener",e,(function(e){for(var t=e.values,i=["change","change_percent","last_price","original_name","short_name","exchange","description","volume"],n={},s=0;s<i.length;s++){var r=i[s];if(!t.hasOwnProperty(r))return;n[r]=t[r]}n.volume=1e100===t.volume?void 0:t.volume,le.post(parent,"quoteUpdate",n)}))},be.withModel(null,(function(){var e=be.model().mainSeries();e.properties().symbol.subscribe(e,(function(e){Ie(e.value())}))})),le.on("quoteSubscribe",(function(){var e=be.model().mainSeries().properties().symbol.value();Ie(e)})),le.on("imageURL",(function(e,t){d(ge,(function(e){t(e)}),(function(){t("")}),{wl:"1"===q.whitelabel},U.cme_widget?{cme:!0}:void 0)})),le.on("symbolInfo",(function(e,t){var i=be.model().mainSeries().symbolInfo(),n=be.model().mainSeries().properties().interval.value();t({name:i.name,exchange:i.exchange,description:i.description,type:i.type,interval:n})})),le.on("widgetReady",(function(e,t){be.withModel(null,(function(){var e;be.model().mainSeries().symbolInfo()?t():(e=function(){t(),be.model().mainSeries().dataEvents().symbolResolved().unsubscribe(null,e)},be.model().mainSeries().dataEvents().symbolResolved().subscribe(null,e))}))})),W(O.Names.SetSymbol,(function(e){e&&e.symbol&&ge.setSymbol(e.symbol)})),W(O.Names.SetInterval,(function(e){e&&e.interval&&ge.setResolution(e.interval)})),window.applyStudiesOverrides=function(e){e&&window.chartWidgetCollection.applyStudiesOverrides(e)},Promise.all([new Promise((function(e){be.withModel(null,(function(){be.model().mainSeries().dataEvents().completed().subscribe(null,e,{once:!0})}))})),M]).then(V)},55790:(e,t,i)=>{"use strict";function n(){return i.e(45702).then(i.bind(i,28664))}function s(e){n().then(t=>t.showDisconnectedMessage(e))}function r(e){n().then(t=>t.showCriticalErrorMessage(e))}i.r(t),i.d(t,{showDisconnectedMessage:()=>s,showCriticalErrorMessage:()=>r})},80028:(e,t,i)=>{"use strict";i.d(t,{StudyMarket:()=>o});var n=i(92634),s=i(62325),r=i.n(s);class o{constructor(e,t){this._visibility=new(r())(!1),this._dialogPromise=null,this._dialog=null,this._chartWidgetCollection=e,
this._options=t,this._indicatorsPreloader=new n.IndicatorsPreloader(e)}visible(){return this._visibility.readonly()}show(e,t){var i;const n=this._indicatorsPreloader.getIndicatorPromises();null===this._dialog&&this._requestDialog(e,t),null===(i=this._dialog)||void 0===i||i.open(e,n,t)}hide(){var e;null===(e=this._dialog)||void 0===e||e.hide()}resetAllPages(){var e;null===(e=this._dialog)||void 0===e||e.resetAllStudies()}_requestDialog(e,t){var n;if(null===this._dialogPromise){let s;s=(null===(n=this._options)||void 0===n?void 0:n.onWidget)?Promise.all([i.e(69129),i.e(82888),i.e(48463),i.e(25113),i.e(34956),i.e(86363),i.e(2e3),i.e(53466),i.e(87836),i.e(77962),i.e(18844),i.e(72485),i.e(85617),i.e(24555),i.e(93037),i.e(57419),i.e(88740),i.e(26149),i.e(71577),i.e(81112),i.e(73944),i.e(16767),i.e(39859),i.e(66991),i.e(70637),i.e(63669),i.e(84344),i.e(28568),i.e(87995),i.e(69397),i.e(7235),i.e(6456)]).then(i.bind(i,10794)).then(e=>new e.IndicatorsLibraryContainer(this._chartWidgetCollection,this._options)):Promise.all([i.e(69129),i.e(82888),i.e(48463),i.e(25113),i.e(34956),i.e(86363),i.e(2e3),i.e(53466),i.e(87836),i.e(77962),i.e(18844),i.e(72485),i.e(85617),i.e(24555),i.e(93037),i.e(57419),i.e(88740),i.e(26149),i.e(71577),i.e(81112),i.e(73944),i.e(16767),i.e(39859),i.e(66991),i.e(70637),i.e(63669),i.e(84344),i.e(28568),i.e(87995),i.e(69397),i.e(7235),i.e(6456)]).then(i.bind(i,98118)).then(e=>new e.IndicatorsContainer(this._chartWidgetCollection)),this._dialogPromise=s.then(i=>{this._dialog=i,this._dialog.visible().subscribe(e=>{this._visibility.setValue(e)}),this._dialog.open(e,void 0,t)})}return this._dialogPromise}}},64251:(e,t,i)=>{"use strict";var n;i.d(t,{PublishIntroDialogContent:()=>n}),function(e){e.Idea="ideaPublishing",e.Script="scriptPublishing",e.Stream="startStreaming",e.VideoIdea="videoIdeaPublishing"}(n||(n={}))},60025:(e,t,i)=>{"use strict";i.r(t),i.d(t,{publishChart:()=>h,publishChartWidget:()=>_,setPublishChartOptions:()=>m});i(23127);var n=i(73286),s=i(64251),r=i(25226),o=i(62802),a=i(23127);let l,c=0;function d(){clearTimeout(c),a(".publish-chart-button").removeClass("process")}async function u(e,t){if(!(0,r.isFeatureEnabled)("show_checkbox_of_house_rules_to_idea_and_script")){if(!0===t||!o.getBool("publish.showIntroText",!0))return window.saver.publishChart(e);const{createWarningPopup:n}=await i.e(63746).then(i.bind(i,17400)),r=await n({type:s.PublishIntroDialogContent.Idea,dataDialogName:"publish-intro-dialog"});o.setValue("publish.showIntroText",!r)}return window.saver.publishChart(e)}function h(e,t){const i={...e,...l};return new Promise(e=>{window.runOrSignIn(()=>{(0,r.isFeatureEnabled)("disable_phone_verification_sms")?e(u(i,t)):(!function(){const e=a(".publish-chart-button");0!==e.length&&(e.addClass("process"),c=setTimeout(d,3e4))}(),(0,n.whenVerified)({showDialog:!0,source:"Publish chart",silentPhoneVerification:null==i?void 0:i.silentPhoneVerification}).done(()=>{e(u(i,t))}).fail(e=>(null==i?void 0:i.onPublishError)&&i.onPublishError(e)).always(d))},{source:"Publish chart",sourceMeta:"Chart"})
})}function _(e){h(e,!0)}function m(e){l=e}},42589:(e,t,i)=>{"use strict";var n,s=i(23127),r=(n={},{suggest:function(e,t){var i=s.ajax({url:t||"/pubscripts-suggest-json/",type:"GET",data:{search:e},dataType:"json"});return i.done((function(e){if(e&&e.results)for(var t=0;t<e.results.length;t++)n[e.results[t].scriptIdPart]=TradingView.clone(e.results[t])})),i},info:function(e,t=!1){for(var i=s.Deferred(),r=[],o=[],a=0;a<e.length;a++){var l=e[a];n[l]?r.push(TradingView.clone(n[l])):o.push(l)}if(!o.length)return i.resolve(r).promise();var c={scriptIdPart:o.join(","),show_hidden:t};return s.ajax({url:"/pubscripts-get/",type:"POST",data:c,dataType:"json"}).done((function(e){for(var t in e=e||[]){var s=e[t];n[s.scriptIdPart]=TradingView.clone(s),r.push(s)}i.resolve(r)})).fail((function(){i.reject()})),i},invalidateCache:function(e){e.forEach((function(e){delete n[e]}))},cleanCache:function(){n=[]}});e.exports=r},27185:(e,t,i)=>{"use strict";i.d(t,{enable:()=>a,referenceToTradingView:()=>l});var n=i(45848),s=i(14939),r=i(11688);let o;function a(e,t){o=e,t=t||"aggressive",r.enable("referral_program_for_widget_owners"),r.enable("referral_program_policy_"+t),(0,n.trackEvent)("Referral program enabled",t)}function l(){const e="https://www.tradingview.com";return o?e+"?aff_id="+o+"&"+(0,s.buildUtmQueryStringFromUrlParams)(!1):e+(0,s.buildUtmQueryStringFromUrlParams)(!0)}},60173:(e,t,i)=>{"use strict";i.d(t,{ChartSaverBase:()=>s});var n=i(88482);class s{constructor(e){this._chartWidgetCollection=e}saveChartLineTools(e,t,i){{const s=(0,n.getChartStorage)(),r=this._chartWidgetCollection.metaInfo.uid.value();return s.saveLineToolsAndGroups(r,e,t,i)}}_getCommonSavingInfo(e){const t=this._chartWidgetCollection,i=this._chartWidgetCollection.chartsSymbols(),n=i[t.activeChartWidget.value().id()],s={...(r=n,{...r,legs:JSON.stringify(null!==(o=r.legs)&&void 0!==o?o:[])})};var r,o;const a=t.metaInfo;return a.id.value()&&(s.id=a.id.value()),s.name=a.name.value()||"",s.description=a.description.value()||"",s.charts_symbols=function(e){const t={};for(const i of Object.keys(e))t[i]={symbol:e[i].symbol};return JSON.stringify(t)}(i),s.is_realtime=s.is_realtime=e?"0":"1",s}_saveLineToolsToStorage(){{const e=this._chartWidgetCollection.lineToolsAndGroupsDTOs(),t=performance.now(),i=(e,t)=>{const i=Array.from(t.entries()).filter(e=>{const t=e[1];return t.sources.size>0||t.groups.size>0}).map(t=>this.saveChartLineTools(e,t[1],t[0]));return Promise.all(i)},n=Array.from(e.entries()).map(e=>{const t=e[0],n=e[1];return i(t,n)});return Promise.all(n).then(e=>{const i=e.reduce((e,t)=>e.concat(t),[]);this._chartWidgetCollection.resetLineToolsInvalidated(t,i)})}}}},98935:(e,t,i)=>{"use strict";var n=i(97639),s=i(23127),r=i(87236).t,o=i(88537).assert,a=i(66156),l=i(45848).trackEvent,c=i(29588).createGoProDialog,d=i(52279).reloginOrGoPro,u=i(42589),h=i(51954),_=i(25226).isFeatureEnabled,m=i(3595).asyncWindowOpen,p=i(81640),g=i(79923).showWarning,f=i(70617).deepEquals,b=i(2466).backend,v=i(60173).ChartSaverBase;const y={
saverOnPublishError:r("The publication preview could not be loaded. Please disable your browser extensions and try again."),saveLibraryError:r("Failed to save library"),saveScriptError:r("Failed to save script")};function w(e,t){e.content=JSON.stringify(t)}function S(e){return e.returnValue=r("Script may be not updated if you leave the page."),e.returnValue}t.ChartSaver=class extends v{constructor(e){super(e),this._chartAboutToBeSavedDelegate=new n,this._chartSavedDelegate=new n,this._prevChartState=null,this._chartSizeLimitExceededDelegate=new n,this._savingToken=null}chartSizeLimitExceeded(){return this._chartSizeLimitExceededDelegate}chartAboutToBeSaved(){return this._chartAboutToBeSavedDelegate}chartSaved(){return this._chartSavedDelegate}whenReadyToSave(e){var t=this._chartWidgetCollection.activeChartWidget.value().model().mainSeries();if(t.hasDelayedSymbolIntervalChange()){var i,n=null;i=function(){t.dataEvents().symbolError().unsubscribe(null,n,!0),e()},n=function(){t.dataEvents().symbolResolved().unsubscribe(null,i,!0)},t.dataEvents().symbolResolved().subscribe(null,i,!0),t.dataEvents().symbolError().subscribe(null,n,!0)}else e()}saveToJSON(){var e=this._getCommonSavingInfo(!1);return w(e,this._getChartWidgetCollectionState(!1,!0)),e}_getChartWidgetCollectionState(e,t,i,n,s){return e||(t=!0,n=!1),t?this._chartWidgetCollection.state(!!e,i,n,s):this._chartWidgetCollection.activeChartWidget.value().state(!!e,i,n,s)}publishChart(e){var t=this;return new Promise((function(n){l("GUI","Publish Chart");var r=t,o={accessType:(e=e||{}).isPrivate||TVSettings.getBool("publishchart.private",!1)?0:1,publishSource:e.publishSource,videoFilename:e.videoFilename,videoDuration:e.videoDuration,videoCam:e.videoCam},a=s(".publish-dropdown-container"),c=s(".publish-chart-button"),d={savePrivacySetting:!e.doNotSavePrivacySetting,onWidget:e.onWidget},u=e.onPublishUrl,h=e.onPublishError
;r._ideaPublisher?n(r._ideaPublisher.openPublication(o,d)):Promise.all([Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(16061),i.e(23450),i.e(69875),i.e(84575),i.e(8879),i.e(80509),i.e(66333),i.e(47552),i.e(93713),i.e(3848),i.e(81692),i.e(49587),i.e(48247),i.e(10496),i.e(79486),i.e(1320),i.e(93820),i.e(42289),i.e(54564),i.e(87995),i.e(97974),i.e(89901),i.e(42353),i.e(497),i.e(34620),i.e(50629)]).then(i.bind(i,77483)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(16061),i.e(23450),i.e(69875),i.e(84575),i.e(8879),i.e(80509),i.e(66333),i.e(47552),i.e(93713),i.e(3848),i.e(81692),i.e(49587),i.e(48247),i.e(10496),i.e(79486),i.e(1320),i.e(93820),i.e(42289),i.e(54564),i.e(87995),i.e(97974),i.e(89901),i.e(42353),i.e(497),i.e(34620),i.e(50629)]).then(i.bind(i,92011)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(16061),i.e(23450),i.e(69875),i.e(84575),i.e(8879),i.e(80509),i.e(66333),i.e(47552),i.e(93713),i.e(3848),i.e(81692),i.e(49587),i.e(48247),i.e(10496),i.e(79486),i.e(1320),i.e(93820),i.e(42289),i.e(54564),i.e(87995),i.e(97974),i.e(89901),i.e(42353),i.e(497),i.e(34620),i.e(50629)]).then(i.bind(i,73792)),Promise.all([i.e(69129),i.e(48463),i.e(86363),i.e(2e3),i.e(15998),i.e(7427),i.e(16061),i.e(23450),i.e(69875),i.e(84575),i.e(8879),i.e(80509),i.e(66333),i.e(47552),i.e(93713),i.e(3848),i.e(81692),i.e(49587),i.e(48247),i.e(10496),i.e(79486),i.e(1320),i.e(93820),i.e(42289),i.e(54564),i.e(87995),i.e(97974),i.e(89901),i.e(42353),i.e(497),i.e(34620),i.e(50629)]).then(i.bind(i,56471))]).then(([{CategoriesProvider:e},{ChartInfoProvider:t},{IdeasProvider:i},{IdeaPublisher:s}])=>{var l=new t({chartWidgetCollection:r._chartWidgetCollection}),_=new i({publish:function(e,t){return new Promise((function(i,n){var s={closeForm:function(){i()},showError:function(e){n(e)},onPublishUrl:u,onPublishError:h};try{r.onPublish(e,Object.assign({},t,s))}catch(e){n(y.saverOnPublishError)}}))}}),m=new e;r._ideaPublisher=new s({chartInfoProvider:l,ideasProvider:_,categoriesProvider:m,onOpenEditor:function(){a.addClass("disabled")},onMinimizeEditor:function(){a.removeClass("disabled"),c.addClass("inprogress")},onCloseEditor:function(){a.removeClass("disabled"),c.removeClass("inprogress")}}),n(r._ideaPublisher.openPublication(o,d))})}))}publishScript(e,t,i){var n=this;if(n._scriptPublisher)n._scriptPublisher.openPublication(e,t);else{var s=i.scriptPublisher,r=i.scriptsProvider,o=i.categoriesProvider,a=new r({publish:function(e){return new Promise((function(t,i){var s={closeForm:function(){if(e&&e.scriptPublication&&e.scriptPublication.updateScriptIdPart){var i=e.scriptPublication.updateScriptIdPart;u.invalidateCache([i]),window.studyMarket&&window.studyMarket.resetAllPages()}t()},showError:function(e){i(e)}};try{n.onPublish(e,s)}catch(e){i(y.saverOnPublishError)}}))}});n._scriptPublisher=new s({scriptsProvider:a,categoriesProvider:new o,scriptType:e.scriptType,scriptTitle:e.title,existingLibraryInfo:e.existingLibraryInfo}),
n._scriptPublisher.openPublication(e,t)}}onPublish(e,t){{var i=this;if(i.publishInProgress)return;var n=t&&t.publishAllLayout,o=i._getCommonSavingInfo(!0),c=!1;e.scriptPublication&&(e.scriptPublication.scriptProtection===p.Access.ACCESS_CLOSED_NEEDS_AUTH&&(c=!0),o.scriptProtection=parseInt(p.Access.MAP_NAME_TO_ID[e.scriptPublication.scriptProtection])),w(o,this._getChartWidgetCollectionState(!0,n,!0,c)),o.image=JSON.stringify(this._chartWidgetCollection.images({onlyActiveChart:!n}));const f=n=>{window.removeEventListener("beforeunload",S),i.publishInProgress=!1;var s=n.responseText||"";if("ok:"===s.substring(0,3)){var o=!1;if(t.savePrivacySetting){o=!e.is_public;TVSettings.setValue("publishchart.private",o)}var a=s.substring(3),l=JSON.parse(a);i._chartWidgetCollection.metaInfo.id.value()||i._chartWidgetCollection.metaInfo.id.setValue(l.id),t.closeForm&&t.closeForm(),t.onPublishUrl&&t.onPublishUrl(l.publishUrl,l.uuid),h.emit("onPublishUrl",l.uuid),i._lastPublishUrl=l.publishUrl,i.setPopupUrl&&i.setPopupUrl(l.publishUrl)}else{(413===n.status||/^[\d\s]*request.+large/i.test(s.trim()))&&(s=r("This Chart Layout has a lot of objects and can't be published. Please remove the unused objects (drawings/indicators) through the Object Tree to continue publishing."));var c=s||r("Error occurred while publishing");t.showError&&t.showError(c,{html:!0}),t.onPublishError&&t.onPublishError(c),i.setPopupUrl&&i.setPopupUrl(void 0)}};var d=e.scriptPublication,u=!(!d||!d.updateScriptIdPart),_=new Promise((function(e,t){var i;d?(u?(window.addEventListener("beforeunload",S),i=a.publishNext(d.scriptSource,d.updateScriptIdPart)):i=a.publishNew(d.scriptSource,d.scriptProtection),i.done((function(t){e(t.publishedstudyscript_id)})).fail((function(e){let i="";i=-1!==e.indexOf("already published library")?y.saveLibraryError:y.saveScriptError,g({title:i,text:e}),t()}))):e()}));u?_.then((function(t){var i={publishedstudyscript_id:t,script_terms:e.script_terms,description:e.description,tags:e.tags,preserve_old_chart:e.preserveOldChart};s.ajax({url:"/script-update/",type:"post",dataType:"text",data:s.extend({},o,i),complete:f})}),f):_.then((function(t){t&&(e.publishedstudyscript_id=t);for(var i=e.tags.split(","),n=e.scriptPublication?"Script":"Idea",r=0;r<i.length;r++)l(n+" Publication",n+" Tag",i[r]);if(e.scriptPublication){var a=e.scriptPublication.scriptProtection;l("Script Publication","Script Visibility",{open_no_auth:"Open",closed_no_auth:"Protected",closed_needs_auth:"Invite Only"}[a])}else{var c=e.is_education?"Education":"Analysis",d=e.is_public?"Public":"Private";l("Idea Publication","Idea Type",c),l("Idea Publication","Idea Strategy",["Neutral","Long","Short"][e.direction]),l("Idea Publication","Idea Privacy",d)}s.ajax({url:"/publishchart/",type:"post",dataType:"text",data:s.extend({},o,e),complete:f})}),f),i.publishInProgress=!0,t.onWidget||""!==e.name&&""!==e.description&&e.description.length<=7e4&&e.name.length<=64&&m(new Promise((function(e){i.setPopupUrl=e})))}}_saveChartImpl(e,t,i,n,r,o){var a=i,l=n
;if(this._savingToken=String(Math.random()),e.savingToken=this._savingToken,a=function(o){if(this._savingToken=null,"ok:"===o.substring(0,3)){var a=o.substring(3),l=JSON.parse(a);t.id.value()||(t.id.setValue(l.id),t.uid.setValue(l.uid)),t.lastModified.setValue(l.lastModified),"function"==typeof i&&i(t,e)}else if("saved_chart_limit_reached"===o||""===o){if("function"==typeof n&&n(),r.noDefaultOnFail)return;c({feature:"savedChartsLimit"})}else"function"==typeof n&&n(),s("#error").html(o);s(window).off("beforeunload.savechart")},l=function(e){return this._savingToken=null,e&&413===e.status?(this._chartSizeLimitExceededDelegate.fire(),void("function"==typeof n&&n.apply(null,arguments))):e&&403===e.status?(d({feature:"savedChartsLimit"}),void("function"==typeof n&&n.apply(null,arguments))):void(r.retry?"function"==typeof n&&n.apply(null,arguments):(r.retry=!0,this._saveChart(o,i,n,r)))},!e.name)return console.warn("Saving chart with empty name is not allowed"),void n();b.saveChart(e.name,e.short_name,e.resolution,e,t).then(a.bind(this)).catch(l.bind(this))}_saveChart(e,t,i,n){var s=this._chartWidgetCollection.metaInfo,r=function(r){return f(this._prevChartState,r)[0]&&null!=s.id.value()?(this._chartSavedDelegate.fire(!0),void(t&&t(s,r))):this._saveChartImpl(r,s,t,i,n,e)}.bind(this);this._saveLineToolsToStorage().then((function(){var t=e(!0);return r(t)})).catch((function(t){var i=e(!1);return r(i)}))}saveChartSilently(e,t,i){i=i||{};var n=function(e){var t=e&&_("remove_line_tools_from_content"),n=this._getChartWidgetCollectionState(!1,void 0,void 0,void 0,t),s=this._getCommonSavingInfo(!1,t);return w(s,n),i.chartName&&(s.name=i.chartName),s.name&&0!==s.name.length||!i.defaultChartName||(s.name=i.defaultChartName),i.autoSave&&(s.autoSave=!0),s}.bind(this);s(window).on("beforeunload.savechart",(function(){return r("Your chart is being saved, please wait a moment before you leave this page.")})),this._isSaveInProcess=!0,this._chartAboutToBeSavedDelegate.fire(),this._saveChart(n,function(t,i){o(!this._chartWidgetCollection.readOnly(),"Trying to save layout in read-only mode"),this._chartWidgetCollection.metaInfo.name.setValue(i.name),this._prevChartState=i,this._chartSavedDelegate.fire(!0),this._isSaveInProcess=!1,e&&e({uid:t.uid.value(),data:i}),delete this._prevChartState.savingToken}.bind(this),function(){this._chartSavedDelegate.fire(!1),this._isSaveInProcess=!1,t&&t.apply(null,arguments)}.bind(this),i),s(window).off("beforeunload.savechart")}isSaveInProcess(){return this._isSaveInProcess}}},52302:e=>{"use strict";var t={},i={XCBT:"CBOT",XNYM:"NYMEX",XCME:"CME",XCEC:"COMEX"};t.convertSymbolDataToTV=function(e,t,n){return n=2===n||"floor"===n||"pit"===n?"PIT":"GBX",t&&i[t]?{status:"ok",data:{symbol:e,exchange:i[t]+"_"+n}}:{status:"error",data:"Exchange `"+t+"` is not supported"}},e.exports=t},34144:(e,t,i)=>{"use strict";i.d(t,{timeFrames:()=>s});var n=i(87236);const s={"1d":{text:(0,n.t)("1D"),value:{value:"1D",type:"period-back"},targetResolution:"1",description:(0,n.t)("%d day",{plural:"%d days",count:1
}).replace("%d","1")},"5d":{text:(0,n.t)("5D"),value:{value:"5D",type:"period-back"},targetResolution:"5",description:(0,n.t)("%d day",{plural:"%d days",count:5}).replace("%d","5")},"1m":{text:(0,n.t)("1M"),value:{value:"1M",type:"period-back"},targetResolution:"30",description:(0,n.t)("%d month",{plural:"%d months",count:1}).replace("%d","1")},"3m":{text:(0,n.t)("3M"),value:{value:"3M",type:"period-back"},targetResolution:"60",description:(0,n.t)("%d month",{plural:"%d months",count:3}).replace("%d","3")},"6m":{text:(0,n.t)("6M"),value:{value:"6M",type:"period-back"},targetResolution:"120",description:(0,n.t)("%d month",{plural:"%d months",count:6}).replace("%d","6")},ytd:{text:(0,n.t)("YTD"),value:{value:"YTD",type:"period-back"},targetResolution:"1D"},"12m":{text:(0,n.t)("1Y"),value:{value:"12M",type:"period-back"},targetResolution:"1D",description:(0,n.t)("%d year",{plural:"%d years",count:1}).replace("%d","1")},"60m":{text:(0,n.t)("5Y"),value:{value:"60M",type:"period-back"},targetResolution:"1W",description:(0,n.t)("%d year",{plural:"%d years",count:5}).replace("%d","5")},all:{text:(0,n.t)("All"),value:{value:"ALL",type:"period-back"},targetResolution:"1M"}}},26974:(e,t,i)=>{"use strict";i.d(t,{availableTimeFrames:()=>o});i(87236);var n=i(95048),s=i(34144);const r={[n.STATUS_DELAYED]:[s.timeFrames.ytd,s.timeFrames["12m"],s.timeFrames["60m"],s.timeFrames.all],[n.STATUS_READY]:[s.timeFrames["1d"],s.timeFrames["5d"],s.timeFrames["1m"],s.timeFrames["3m"],s.timeFrames["6m"],s.timeFrames.ytd,s.timeFrames["12m"],s.timeFrames["60m"],s.timeFrames.all]};function o(e,t){return t===n.STATUS_DELAYED_STREAMING&&(t=n.STATUS_READY),t===n.STATUS_EOD&&(t=n.STATUS_DELAYED),r[t]||[]}},26384:(e,t,i)=>{"use strict";i.d(t,{handleTVLinksClick:()=>r,sendWidgetTrackData:()=>o});var n=i(14939),s=i(79380);function r(){document.addEventListener("click",e=>{const t=e.target.closest(":link");if(!(null==t?void 0:t.hostname)||!(0,s.isInternalHost)(t.hostname,"tradingview.com"))return;const i=t.classList.contains("js-copyright-label")?"copyright":null;o(t.href,i)})}function o(e,t){const s=function(){const e=window.initData.hashSettings;if(Object.keys(e).length>0)return(0,n.filterUtmInfo)(e);const t=new URLSearchParams(location.href);return{utm_campaign:t.get("utm_campaign")||void 0,utm_source:t.get("utm_source")||void 0}}(),r=function(e){var t;const i=(null===(t=location.ancestorOrigins)||void 0===t?void 0:t[0])||document.referrer;return e.utm_source||(i.length>0?new URL(i).host:"")}(s);!async function(e){var t;null===(t=await async function(){const e=(await Promise.all([i.e(32917),i.e(36683)]).then(i.bind(i,76197))).getTrackerInstance();return e||null}())||void 0===t||t.trackWidgetTVLinkClick(e)}({widget_type:a(s),domain:r,link:e,target_type:t})}function a(e){if(e.utm_campaign)return e.utm_campaign;const t=location.pathname;return t.includes("embed-widget")?t.split("/")[2]:t}},3595:(e,t,i)=>{"use strict";i.d(t,{asyncWindowOpen:()=>r});var n=i(14802);const s=i(87236).t("Loading...");function r(e,t,i){return window.TVD||(0,
n.isOnMobileAppPage)("any")?function(e,t,i){return e.then(e=>{void 0!==e&&open(e,t,i)},()=>{})}(e,t,i):async function(e,t,i){const n=URL.createObjectURL(new Blob([`<!doctype html><html style="background-color:${getComputedStyle(document.documentElement).backgroundColor}"><head><meta charset="utf-8"><title>${s}</title></head><body style="background-color:${getComputedStyle(document.body).backgroundColor}"></body></html>`],{type:"text/html"}));try{const s=open(n,t,i);if(!s)throw new Error("cound not open a new tab");const r=await e.catch(()=>{});void 0!==r?s.location.replace(r):s.close()}finally{URL.revokeObjectURL(n)}}(e,t,i)}},96080:(e,t,i)=>{"use strict";var n,s;i.d(t,{ParentEvents:()=>n,IFrameEvents:()=>s}),function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(n||(n={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(s||(s={}))},10899:(e,t,i)=>{"use strict";function n(e,t,i){const n={name:e,frameElementId:t,data:i};window.parent.postMessage(n,"*")}function s(e,t){function i(i){i.data&&i.data.name&&i.data.name===e&&t(i.data.data)}return window.addEventListener("message",i,!1),()=>{window.removeEventListener("message",i,!1)}}i.d(t,{dispatchEventToParent:()=>n,listenEventFromParent:()=>s})},56130:(e,t,i)=>{"use strict";i.d(t,{generateChartUrl:()=>s});var n=i(14802);function s(e){const t=e.chartId?`/chart/${e.chartId}/`:"/chart/",i=new URL(t,location.href);return e.symbol&&i.searchParams.append("symbol",e.symbol),e.interval&&i.searchParams.append("interval",e.interval),e.style&&i.searchParams.append("style",e.style),(0,n.urlWithMobileAppParams)(i.href)}},30254:(e,t,i)=>{"use strict";i.d(t,{format:()=>d,getMetricPrefix:()=>u,getFractionalDigitsNumber:()=>_});var n=i(88537),s=i(60521),r=i(1336),o=i(91419),a=i(43498);const l=new Map;let c=null;function d(e,t,i,n=2){if(Math.abs(e)>=1e100)return"â€”";if("volume"===t)return function(e){c||(c=new o.VolumeFormatter);return c.format(e)}(e);if("percents"===t)return(0,a.forceLTRStrSsr)(h(e,n)+"%");const s=i||u(e);return(0,a.forceLTRStrSsr)(function(e,t,i){return`${h(e/t.multiplier,i)}${t.symbol}`}(e,s,n))}function u(e){const t=Math.abs(e);return t<995?{symbol:"",multiplier:1}:t<999995?{symbol:"K",multiplier:1e3}:t<999999995?{symbol:"M",multiplier:1e6}:t<999999999995?{symbol:"B",multiplier:1e9}:{symbol:"T",multiplier:1e12}}function h(e,t){let i="";return e<0&&(i="âˆ’",e=-e),i+function(e){if(l.has(e))return(0,n.ensureDefined)(l.get(e));const t=new r.NumericFormatter(e);return l.set(e,t),t}(t).format(e)}function _(e){const t=(0,s.Big)(e);return Math.max(t.c.length-t.e-1,0)}},36901:(e,t,i)=>{"use strict";i.d(t,{DEFAULT_MAX_DATA_ARRAY_LENGTH:()=>n,FULL_MAX_DATA_ARRAY_LENGTH:()=>s});const n=5,s=7},83837:(e,t,i)=>{"use strict";i.d(t,{isCategoryId:()=>l,DEFAULT_CATEGORY_SETTINGS:()=>c,getFinancialsData:()=>u,filterConfig:()=>h,filterHiddenItems:()=>_,filterIndicatorItems:()=>m,
buildTree:()=>p,createCategoryList:()=>b,flattenTree:()=>v,createSortedCategoryList:()=>w,getItemValuesFromQuotes:()=>S,addOrRemoveIdFromSet:()=>T,findParentsSet:()=>E,mergePineFacadeData:()=>x,getAdditionalFieldValue:()=>L,valueFormatter:()=>k});var n=i(88537),s=i(87236),r=i(86674),o=i(36901),a=i(30254);function l(e){return"balance sheet"===e||"income statements"===e||"cash flow"===e||"statistics"===e}const c={"income statements":{defaultItems:["total_revenue","net_income"],additionalField:1,displayGroups:!1},"balance sheet":{defaultItems:["total_assets","total_liabilities"],additionalField:0,displayGroups:!1},"cash flow":{defaultItems:["cash_f_operating_activities","cash_f_investing_activities","cash_f_financing_activities"],additionalField:1,displayGroups:!1},statistics:{defaultItems:["price_earnings","price_cash_flow"],additionalField:2,displayGroups:!0}},d=["_fy","_fq","_ttm"];function u(){return(0,r.fetch)("/financial/fundamentals_config/",{credentials:"same-origin",headers:{"Content-Type":"application/json"},method:"GET"}).then(e=>e.json())}function h(e){return e.filter(e=>!e.hidden&&e.financialVisible)}function _(e){return e.filter(e=>!e.hidden)}function m(e){return e.filter(e=>void 0===e.indicatorVisible||e.indicatorVisible)}function p(e){return f(g(e))}function g(e){var t,i;const s=Symbol(),r={},o={},a=[];for(const i of e){const{id:e,parent:l=s}=i;l===s&&a.push(e);const c=r[e]={...i,nestingLevel:-1,idWithoutPeriod:(0,n.ensureDefined)(C(i.id)),parentIdWithoutPeriod:C(i.parent),periodData:i.periodData||[],shortTitle:i.shortTitle||""};(o[l]=null!==(t=o[l])&&void 0!==t?t:[]).push(c)}for(const t of e){const{id:e}=t;r[e].children=o[e]}let l=0;for(;a.length>0&&l<e.length;){l++;const e=r[(0,n.ensureDefined)(a.shift())],{parent:t}=e;e.nestingLevel=t?r[t].nestingLevel+1:0,null===(i=e.children)||void 0===i||i.forEach(e=>{a.push(e.id)})}return o[s]}function f(e){const t=[...e];return t.sort((e,t)=>e.ordinal-t.ordinal),t.forEach(e=>{e.children&&(e.children=f(e.children))}),t}function b(e){return y([...e].map(e=>{var t;if(null===(t=e.children)||void 0===t?void 0:t.length){const t=v(e.children);return{...e,children:t}}return e}))}function v(e,t){let i=[];return e.forEach(e=>{var n;i=[...i,e];const s=!!t&&t(e);if((null===(n=e.children)||void 0===n?void 0:n.length)&&!s){const n=v(e.children,t);i=[...i,...n]}}),i}function y(e){const t=[...e],i={};return t.forEach(e=>{const t=e.category.toLowerCase();i[t]?i[t].push(e):i[t]=[e]}),i}function w(e){if(!e.length)return{};const t=y(g(e)),i={};return Object.entries(t).forEach(([e,t])=>{i[e]=function(e){const t=f(e),i=new Map;return t.forEach(e=>{const{group:t,ordinal:n}=e,s=i.get(t);(void 0===s||s>n)&&i.set(t,n)}),t.sort((e,t)=>(0,n.ensureDefined)(i.get(e.group))-(0,n.ensureDefined)(i.get(t.group))||e.ordinal-t.ordinal),t}(t)}),i}function S(e,t,i=0,n,s=o.DEFAULT_MAX_DATA_ARRAY_LENGTH){let r=new Array(s).fill(null);const a=[];if(t){const o=t[e+"_h"];if(o){const e=o.length>s;if(r=o.slice(0,s).reverse(),n){const t=o.slice(0,s+1).reverse();t.forEach((i,n)=>{if(0===n&&e)return
;if(0===n)return void a.push(NaN);const s=P(Number(t[n-1]),Number(i));a.push(s)})}}if(0!==i){const s=t[C(e)+function(e){switch(e){case 2:return"_current";case 1:return"_ttm"}return""}(i)]||null,o=e.endsWith("_fq"),l=1===i;return{values:r,changes:n?a:void 0,additional:s,additionalChange:!n||l&&o?void 0:P(Number(r[r.length-1]),Number(s))}}}return{values:r,changes:n?a:void 0}}function P(e,t){if(0===e)return NaN;return Number(((t-e)/Math.abs(e)*100).toFixed(2))}function C(e){if(e)for(let t=0;t<d.length;t++){const i=d[t];if(e.endsWith(i))return e.slice(0,-i.length)}return e}function T(e,t){const i=new Set(t);return i.has(e)?i.delete(e):i.add(e),i}function E(e,t){let i=new Set;const n=Symbol();for(let s=0;s<e.length;s++){const{idWithoutPeriod:r,parentIdWithoutPeriod:o=n,children:a}=e[s];if(null==a?void 0:a.length){const e=E(a,t);i=new Set([...Array.from(i),...Array.from(e)])}(t.has(r)||i.size>0)&&o!==n&&i.add(o)}return i}function x(e,t){const i={};e.forEach(e=>{const t=C(e.id);t&&!i[t]&&(i[t]={...e,nestingLevel:-1,idWithoutPeriod:t,parentIdWithoutPeriod:C(e.parent),periodData:[],shortTitle:""})}),t.forEach(e=>{if(!e.extra.fund_id)return;const t=C(e.extra.fund_id),s=i[(0,n.ensureDefined)(t)];if(!s)return;const r={period:e.extra.financialPeriod,scriptIdPart:e.scriptIdPart,scriptName:e.scriptName,version:e.version};s.shortTitle=e.extra.shortDescription,s.periodData.push(r)});const s=Object.values(i),r=(e,t)=>e.period&&t.period?e.period.localeCompare(t.period):0;return s.forEach(e=>{e.periodData.length>1&&e.periodData.sort(r)}),s}function L(e){if(0!==e)return 1===e?(0,s.t)("TTM"):(0,s.t)("Current")}function k(e){return null===e?"â€”":(0,a.format)(e,"numbers")}},92634:(e,t,i)=>{"use strict";i.d(t,{IndicatorsPreloader:()=>_});var n=i(66156),s=i(4061),r=i(82991),o=i(87236),a=i(83837);function l(e){const t=(0,a.filterIndicatorItems)(e);return t.filter(e=>e.periodData.length>0)}function c(e,t=!1){const{id:i,name:n,shortTitle:s,idWithoutPeriod:r,periodData:a}=e;return{id:i,shortTitle:s,periodData:a,name:(0,o.t)(n,{context:"study"}),solutionId:u(r),isNested:t}}
const d=JSON.parse('{"ebitda":43000553610,"gross_profit":43000553611,"total_revenue":43000553619,"cost_of_goods":43000553618,"dep_amort_exp_income_s":43000563477,"cost_of_goods_excl_dep_amort":43000563478,"operating_expenses":43000563463,"sell_gen_admin_exp_total":43000553613,"sell_gen_admin_exp_other":43000553614,"research_and_dev":43000553612,"other_oper_expense_total":43000563483,"total_oper_expense":43000553615,"earnings_per_share_diluted":43000553616,"net_income":43000553617,"oper_income":43000563464,"total_non_oper_income":43000563465,"non_oper_interest_exp":43000563466,"interest_expense_on_debt":43000563467,"interest_capitalized":43000563468,"non_oper_income":43000563471,"non_oper_interest_income":43000563473,"pretax_equity_in_earnings":43000563474,"other_income":43000563479,"unusual_expense_inc":43000563476,"pretax_income":43000563462,"equity_in_earnings":43000563487,"income_tax":43000563492,"minority_interest_exp":43000563495,"after_tax_other_income":43000563497,"net_income_bef_disc_oper":43000563500,"discontinued_operations":43000563502,"dilution_adjustment":43000563504,"preferred_dividends":43000563506,"diluted_net_income":43000563516,"earnings_per_share_basic":43000563520,"total_liabilities_shrhldrs_equity":43000553626,"total_debt":43000553622,"total_assets":43000553623,"total_current_assets":43000557441,"cash_n_short_term_invest":43000563702,"cash_n_equivalents":43000563709,"short_term_invest":43000563716,"total_receivables_net":43000563738,"accounts_receivables_net":43000563740,"other_receivables":43000563741,"inventory_work_in_progress":43000563746,"inventory_progress_payments":43000563748,"inventory_finished_goods":43000563749,"inventory_raw_materials":43000563753,"prepaid_expenses":43000563757,"other_current_assets_total":43000563761,"total_non_current_assets":43000557440,"long_term_investments":43000563639,"long_term_note_receivable":43000563641,"investments_in_unconcsolidate":43000563645,"other_investments":43000563649,"ppe_total_net":43000563657,"ppe_total_gross":43000563667,"accum_deprec_total":43000563673,"deferred_tax_assests":43000563683,"intangibles_net":43000563686,"goodwill":43000563688,"other_intangibles_net":43000563689,"long_term_other_assets_total":43000563693,"total_liabilities":43000553624,"total_current_liabilities":43000557437,"short_term_debt":43000563554,"current_port_debt_capital_leases":43000563557,"short_term_debt_excl_current_port":43000563563,"notes_payable_short_term_debt":43000563600,"other_short_term_debt":43000563614,"accounts_payable":43000563619,"income_tax_payable":43000563621,"dividends_payable":43000563624,"accrued_payroll":43000563628,"deferred_income_current":43000563631,"other_current_liabilities":43000563635,"total_non_current_liabilities":43000557436,"long_term_debt":43000553621,"long_term_debt_excl_capital_lease":43000563521,"capital_operating_lease_obligations":43000563522,"capital_lease_obligations":43000563527,"operating_lease_liabilities":43000563532,"provision_f_risks":43000563535,"deferred_tax_liabilities":43000563536,"deferred_income_non_current":43000563540,"other_liabilities_total":43000563545,"total_equity":43000553625,"shrhldrs_equity":43000557442,"common_equity_total":43000563866,"retained_earnings":43000563867,"paid_in_capital":43000563871,"common_stock_par":43000563873,"additional_paid_in_capital":43000563874,"treasury_stock_common":43000563875,"other_common_equity":43000563877,"preferred_stock_carrying_value":43000563879,"minority_interest":43000563884,"free_cash_flow":43000553630,"cash_f_operating_activities":43000553627,"funds_f_operations":43000563886,"net_income_starting_line":43000563888,"cash_flow_deprecation_n_amortization":43000563892,"depreciation_depletion":43000564142,"amortization":43000564143,"cash_flow_deferred_taxes":43000564144,"non_cash_items":43000564146,"total_extra_items":43000564145,"changes_in_working_capital":43000564147,"change_in_accounts_receivable":43000564148,"change_in_taxes_payable":43000564149,"change_in_accounts_payable":43000564150,"change_in_accrued_expenses":43000564151,"change_in_inventories":43000564153,"change_in_other_assets":43000564154,"cash_f_investing_activities":43000553628,"purchase_sale_business":43000564156,"sales_of_business":43000564158,"purchase_of_business":43000564159,"purchase_sale_investments":43000564160,"sales_of_investments":43000564161,"purchase_of_investments":43000564162,"other_investing_cash_flow_items_total":43000564163,"other_investing_cash_flow_sources":43000564164,"other_investing_cash_flow_uses":43000564165,"capital_expenditures":43000564166,"capital_expenditures_fixed_assets":43000564167,"capital_expenditures_other_assets":43000564168,"cash_f_financing_activities":43000553629,"issuance_of_stock_net":43000564169,"sale_of_stock":43000564170,"purchase_of_stock":43000564171,"issuance_of_debt_net":43000564172,"issuance_of_short_term_debt":43000564173,"issuance_of_long_term_debt":43000564175,"supplying_of_long_term_debt":43000564176,"reduction_of_long_term_debt":43000564177,"issuance_of_other_debt":43000564178,"other_financing_cash_flow_items_total":43000564179,"other_financing_cash_flow_sources":43000564181,"other_financing_cash_flow_uses":43000564182,"total_cash_dividends_paid":43000564183,"common_dividends_cash_flow":43000564185,"preferred_dividends_cash_flow":43000564186,"market_cap_basic":43000597015,"number_of_employees":43000597080,"dividends_yield":43000597817,"dividend_payout_ratio":43000597738,"price_earnings":43000597017,"price_sales":43000597019,"price_cash_flow":43000597816,"price_book":43000597016,"enterprise_value":43000597077,"enterprise_value_ebitda":43000597064,"ev_ebit":43000597063,"ev_revenue":43000597065,"price_to_free_cash_flow":43000597814,"price_to_tangible_book":43000597815,"price_earnings_forward":43000597831,"price_sales_forward":43000597832,"return_on_assets":43000597054,"return_on_equity":43000597021,"return_on_invested_capital":43000597056,"gross_margin":43000597811,"operating_margin":43000597076,"ebitda_margin":43000597075,"net_margin":43000597074,"return_on_equity_adjust_to_book":43000597055,"return_on_tang_assets":43000597052,"return_on_tang_equity":43000597053,"free_cash_flow_margin":43000597813,"quick_ratio":43000597050,"current_ratio":43000597051,"invent_turnover":43000597046,"asset_turnover":43000597022,"debt_to_asset":43000597031,"debt_to_equity":43000597078,"long_term_debt_to_assets":43000597048,"debt_to_ebitda":43000597032,"debt_to_revenue":43000597033,"effective_interest_rate_on_debt":43000597034,"equity_to_asset":43000597035,"goodwill_to_asset":43000597036,"interst_cover":43000597037,"invent_to_revenue":43000597047,"share_buyback_ratio":43000597057,"sloan_ratio":43000597058,"earnings_estimate":43000597066,"sales_estimates":43000597067,"revenue_one_year_growth":43000597068,"earnings_per_share_basic_one_year_growth":43000597069,"earnings_per_share_diluted_one_year_growth":43000597071,"accruals_ratio":43000597073,"tangible_common_equity_ratio":43000597079,"revenue_per_employee":43000597081,"net_income_per_employee":43000597082,"graham_numbers":43000597084,"ncavps_ratio":43000597085,"quality_ratio":43000597086,"gross_profit_to_asset":43000597087,"buyback_yield":43000597088,"cash_conversion_cycle":43000597089,"peg_ratio":43000597090,"altman_z_score":43000597092,"piotroski_f_score":43000597734,"sustainable_growth_rate":43000597736,"research_and_develop_to_revenue":43000597739,"earnings_yield":43000597010,"tobin_q_ratio":43000597834,"beneish_m_score":43000597835,"kz_index":43000597844,"fulmer_h_factor":43000597847,"springate_score":43000597848,"zmijewski_score":43000597850,"cash_to_debt":43000597023,"cogs_to_revenue":43000597026,"days_invent":43000597028,"days_pay":43000597029,"day_sales_out":43000597030}')
;function u(e){return d[e]}async function h(){const[e,t]=await Promise.all([(0,n.requestFundamentalScripts)(),(0,a.getFinancialsData)()]),i=(0,a.filterHiddenItems)(t),s=(0,a.mergePineFacadeData)(i,e),r=(0,a.buildTree)(s);return function(e){const t={};return Object.keys(e).forEach(i=>{const n=[];e[i].forEach(e=>{const t=l([e])[0];if(t)if(t.children){const e=l(t.children).map(e=>c(e,!0));n.push(c(t),...e)}else n.push(c(t))}),t[i]=n}),t}((0,a.createCategoryList)(r))}class _{constructor(e){this._chartWidgetCollection=e}getIndicatorPromises(){var e,t,i,o,a,l,c,d,u;const _=(null===(e=this._initIndicatorsPromises)||void 0===e?void 0:e.javaStudiesPromise)||(0,s.requestBuiltInJavaStudies)(this._chartWidgetCollection),m=(null===(t=this._initIndicatorsPromises)||void 0===t?void 0:t.standardScriptsPromise)||(0,n.requestBuiltinScripts)(),p=(null===(i=this._initIndicatorsPromises)||void 0===i?void 0:i.candlestickScriptsPromise)||(0,n.requestCandlestickScripts)(),g=(null===(o=this._initIndicatorsPromises)||void 0===o?void 0:o.publicPineStudiesPromise)||(0,s.fetchPublicPineStudies)((0,s.createPublicStudiesRequestParams)("top")),f=(null===(a=this._initIndicatorsPromises)||void 0===a?void 0:a.trendingStudiesPromise)||(0,s.fetchPublicPineStudies)((0,s.createPublicStudiesRequestParams)("trending")),b=(null===(l=this._initIndicatorsPromises)||void 0===l?void 0:l.editorsPicksStudiesPromise)||(0,s.fetchEditorsPicksStudies)(),v=null===(c=this._initIndicatorsPromises)||void 0===c?void 0:c.addonsPromise,y=(null===(d=this._initIndicatorsPromises)||void 0===d?void 0:d.pinePermissionsPromise)||r.PinePerm.listScripts(),w=(null===(u=this._initIndicatorsPromises)||void 0===u?void 0:u.financialsPromise)||h(),S=(0,n.requestUserScripts)();return this._initIndicatorsPromises={javaStudiesPromise:_,userScriptsPromise:S,standardScriptsPromise:m,candlestickScriptsPromise:p,publicPineStudiesPromise:g,trendingStudiesPromise:f,addonsPromise:v,pinePermissionsPromise:y,editorsPicksStudiesPromise:b,financialsPromise:w},this._initIndicatorsPromises}}},4061:(e,t,i)=>{"use strict";i.d(t,{fetchPublicPineStudies:()=>s,fetchEditorsPicksStudies:()=>r,fetchLoadMorePublicStudies:()=>o,createPublicStudiesRequestParams:()=>a,requestBuiltInJavaStudies:()=>l});var n=i(86674);async function s(e){return(await(0,n.fetch)("/pubscripts-library/?"+e)).json()}async function r(){return(await(0,n.fetch)("/pubscripts-library/editors-picks/")).json()}async function o(e){return(await(0,n.fetch)(e)).json()}function a(e){const t={offset:0,count:20,type:0,sort:e};return new URLSearchParams(Object.entries(t)).toString()}function l(e){return e.activeChartWidget.value().metaInfoRepository().findAllJavaStudies()}},37157:(e,t,i)=>{"use strict";i.d(t,{registerSettingsSymbolListBackend:()=>f});var n=i(87236),s=i(95935),r=i(62802),o=i(61309),a=i(64894),l=i(97639),c=i.n(l);const d=new(c()),u=new(c()),h=new(c()),_=new(c()),m=new(c());var p=i(11688);class g{constructor(e=[],t=r){if(this._lists={},this._activeListSettingsKey="widgetbar.widget.watchlist",
p.enabled("trading_terminal")&&(this._activeListSettingsKey+="terminal"),this._settings=t,this._settings.onSync.subscribe(this,this._updateLists),this._updateLists(),0===Object.keys(this._lists).length){const t=this._createList({title:this._pickTitle(),symbols:[...e]});this.setActive(t.id)}}destroy(){this._settings.onSync.unsubscribeAll(this)}getCustomWatchLists(){this._updateLists();const e=[];return Object.keys(this._lists).forEach(t=>{const i=this._getList(t);i&&e.push(this._toSymbolList(i))}),Promise.resolve(e)}createWatchList(e){const t=this._createList({id:e.id,title:e.name||this._pickTitle(),symbols:e.symbols||[]});return h.fire(t.id,[...t.symbols]),Promise.resolve(this._toSymbolList(t))}putWatchList(e){this._updateLists();const t=this._getList(e.id),i=null==t?void 0:t.title,n=e.name;return this.saveList({id:e.id,symbols:e.symbols,title:e.name}),void 0!==i&&i!==n&&m.fire(e.id,i,n),null!==t?d.fire(e.id):h.fire(e.id,e.symbols),Promise.resolve(e)}removeWatchList(e){const{id:t}=e;return this._settings.remove("savedwatch."+t,{forceFlush:!0}),delete this._lists[t],_.fire(t),Promise.resolve()}renameWatchList(e,t){this._updateLists();const{name:i}=e;return e.name=t,this.saveList({id:e.id,symbols:e.symbols,title:t}),m.fire(e.id,i,t),Promise.resolve(t)}replaceSymbols(e,t){const i=this._getList(e.id);return null===i||(i.symbols=[...t],this.saveList(i),d.fire(e.id)),Promise.resolve()}addSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols.push(...t),this.saveList(i),d.fire(e.id),Promise.resolve([...i.symbols]))}removeSymbols(e,t){const i=this._getList(e.id);return null===i?Promise.resolve([]):(i.symbols=i.symbols.filter(e=>!t.includes(e)),this.saveList(i),d.fire(e.id),Promise.resolve([...i.symbols]))}setActive(e){return this._settings.setValue(this._activeListSettingsKey,e),u.fire(),Promise.resolve()}getActive(){const e=this._getActive();return Promise.resolve(this._toSymbolList(e))}changeDescription(e,t){throw new Error("not implemented")}saveList(e){const t={symbols:e.symbols,title:String(e.title)};this._settings.setJSON("savedwatch."+e.id,t,{forceFlush:!0}),this._lists[e.id]=t}_createList(e){var t;const i={id:null!==(t=e.id)&&void 0!==t?t:(0,s.randomHash)(),symbols:e.symbols,title:e.title};return this.saveList(i),i}_getList(e){if(this._updateLists(),this._lists.hasOwnProperty(e)){const t=this._lists[e];return{id:e,symbols:t.symbols.slice(),title:t.title}}return null}_toSymbolList(e){return{type:"custom",id:e.id,name:e.title,description:null,symbols:e.symbols,shared:!1}}_updateLists(){this._lists={};this._settings.keys().forEach(e=>{const t=/^savedwatch\.(.*)$/.exec(e);if(!t)return;const i=t[1],n=this._settings.getJSON(e,null);n&&(n.symbols||(n.symbols=[]),this._lists[i]=n)})}_getActive(){const e=this._settings.getValue(this._activeListSettingsKey),[t,i]=Object.entries(this._lists)[0],n={id:t,...i};return void 0!==e&&this._getList(e)||n}_pickTitle(){this._updateLists();const e=Object.keys(this._lists).map(e=>this._lists[e].title);for(let t=1;;t++){const i=(0,
n.t)("Watchlist")+(t>1?` (${t})`:"");if(-1===e.indexOf(i))return i}}}function f(e){const t=new g(e);return(0,a.registerService)(o.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t),()=>{(0,a.unregisterService)(o.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE)}}},50201:(e,t,i)=>{"use strict";i.d(t,{SingleSymbolList:()=>o,registerSingleSymbolListBackend:()=>a});var n=i(87236),s=i(61309),r=i(64894);class o{constructor(e=[]){this._list={id:"DEFAULT_SINGLE_WATCHLIST",type:"custom",name:(0,n.t)("Watchlist"),description:null,symbols:[...e],shared:!1}}getCustomWatchLists(){return Promise.resolve([this._list])}getSymbols(e){return Promise.resolve(this._list.symbols)}createWatchList(e){throw new Error("not implemented")}putWatchList(e){throw new Error("not implemented")}removeWatchList(e){throw new Error("not implemented")}renameWatchList(e,t){return Promise.resolve(t)}replaceSymbols(e,t){return this._list.symbols=[...t],Promise.resolve(this._list)}addSymbols(e,t){return this._list.symbols.push(...t),Promise.resolve(this._list.symbols)}removeSymbols(e,t){return this._list.symbols=this._list.symbols.filter(e=>!t.includes(e)),Promise.resolve(this._list.symbols)}setActive(e){return Promise.resolve(this._list)}getActive(){return Promise.resolve(this._list)}changeDescription(e,t){throw new Error("not implemented")}}function a(e){const t=new o(e);return(0,r.registerService)(s.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE,t),()=>{(0,r.unregisterService)(s.SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE)}}},61309:(e,t,i)=>{"use strict";i.d(t,{SYMBOL_LIST_REPOSITORY_BACKEND_SERVICE:()=>n});const n={id:"SymbolListRepositoryBackend"}},87795:e=>{"use strict";const t=[776,2359,2359,2367,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520];function i(e){if("string"!=typeof e)throw new Error("string cannot be undefined or null");const t=[];let i=0,s=0;for(;i<e.length;)s+=n(i+s,e),a(e[i+s])&&s++,r(e[i+s])&&s++,o(e[i+s])&&s++,l(e[i+s])?s++:(t.push(e.substring(i,i+s)),i+=s,s=0);return t}function n(e,t){const i=t[e];if(!function(e){return e&&d(e[0].charCodeAt(0),55296,56319)}(i)||e===t.length-1)return 1;const n=i+t[e+1];let r=t.substring(e+2,e+5);return s(n)&&s(r)||function(e){return d(c(e),127995,127999)}(r)?4:2}function s(e){return d(c(e),127462,127487)}function r(e){return"string"==typeof e&&d(e.charCodeAt(0),65024,65039)}function o(e){return"string"==typeof e&&d(e.charCodeAt(0),8400,8447)}function a(e){return"string"==typeof e&&-1!==t.indexOf(e.charCodeAt(0))}function l(e){return"string"==typeof e&&8205===e.charCodeAt(0)}function c(e){return(e.charCodeAt(0)-55296<<10)+(e.charCodeAt(1)-56320)+65536}function d(e,t,i){return e>=t&&e<=i}e.exports=i,e.exports.substr=function(e,t,n){const s=i(e);if(void 0===t)return e;if(t>=s.length)return"";const r=s.length-t;let o=t+(void 0===n?r:n);return o>t+r&&(o=void 0),s.slice(t,o).join("")}},47978:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 11" width="22" height="11"><path fill="#2962FF" d="M5 0H0v4h5v7h4V0H5zm7 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm5 7h-5l4.5-11h4.99L17 11z"/></svg>'}},e=>{
e.O(0,[31205,50656,49879,2795,10108,15517,41898,93890,57527,69530,24377,87236,72369,95170,86746,49569,25977,24951,8587,13375,35664,16603,68647,64401,31138,55104,47872,71402,61165,93987,85518,4611,22723,96853,92782,40968,65872,25192,46305,64170,6764,1184],()=>{return t=44456,e(e.s=t);var t});e.O()}]);