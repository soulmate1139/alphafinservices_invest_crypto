(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[12786],{97754:(e,t)=>{var s;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var i=typeof s;if("string"===i||"number"===i)e.push(s);else if(Array.isArray(s)&&s.length){var a=n.apply(null,s);a&&e.push(a)}else if("object"===i)for(var r in s)o.call(s,r)&&s[r]&&e.push(r)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(s=function(){return n}.apply(t,[]))||(e.exports=s)}()},7513:()=>{},77809:(e,t,s)=>{"use strict";function o(e){return e.reduce((function(e,t,s){return~e.indexOf(t)||e.push(t),e}),[])}s.r(t),s.d(t,{uniq:()=>o})},77748:(e,t,s)=>{"use strict";function o(e,t=!1){"loading"!==document.readyState?t?setTimeout(()=>e(),1):e():document.addEventListener("DOMContentLoaded",()=>e())}s.d(t,{whenDocumentReady:()=>o,whenDocumentReadyPromise:()=>n});const n=new Promise(e=>{o(e)})},2944:(e,t,s)=>{"use strict";s.d(t,{CrossTable:()=>l});var o=s(87236),n=(s(7513),s(5324)),i=s(84601);const a={AED:{countyCode:"ae",name:(0,o.t)("U.A.E. Dirham")},ARS:{countyCode:"ar",name:(0,o.t)("Argentina")},AUD:{countyCode:"au",name:(0,o.t)("Australian Dollar")},BRL:{countyCode:"br",name:(0,o.t)("Brazilian Real")},CAD:{countyCode:"ca",name:(0,o.t)("Canadian Dollar")},CHF:{countyCode:"ch",name:(0,o.t)("Swiss Franc")},CLP:{countyCode:"cl",name:(0,o.t)("Chile")},CNY:{countyCode:"cn",name:(0,o.t)("Yuan Renminbi")},COP:{countyCode:"co",name:(0,o.t)("Colombia")},DKK:{countyCode:"dk",name:(0,o.t)("Danish Krone")},EUR:{countyCode:"eu",name:(0,o.t)("Euro")},GBP:{countyCode:"gb",name:(0,o.t)("British Pound")},HKD:{countyCode:"hk",name:(0,o.t)("Hong Kong Dollar")},IDR:{countyCode:"id",name:(0,o.t)("Rupiah")},ILS:{countyCode:"il",name:(0,o.t)("New Israeli Sheqel")},INR:{countyCode:"in",name:(0,o.t)("Indian Rupee")},ISK:{countyCode:"is",name:(0,o.t)("Iceland Krona")},JPY:{countyCode:"jp",name:(0,o.t)("Yen")},KRW:{countyCode:"kr",name:(0,o.t)("Won")},KWD:{countyCode:"kw",name:(0,o.t)("Kuwaiti Dinar")},MXN:{countyCode:"mx",name:(0,o.t)("Mexican Peso")},MYR:{countyCode:"my",name:(0,o.t)("Malaysian Ringgit")},NOK:{countyCode:"no",name:(0,o.t)("Norwegian Krone")},NZD:{countyCode:"nz",name:(0,o.t)("New Zealand Dollar")},PEN:{countyCode:"pe",name:(0,o.t)("Peru")},PHP:{countyCode:"ph",name:(0,o.t)("Philippine Peso")},PLN:{countyCode:"pl",name:(0,o.t)("Zloty")},RUB:{countyCode:"ru",name:(0,o.t)("Russian Ruble")},SAR:{countyCode:"sa",name:(0,o.t)("Saudi Riyal")},SEK:{countyCode:"se",name:(0,o.t)("Swedish Krona")},SGD:{countyCode:"sg",name:(0,o.t)("Singapore Dollar")},THB:{countyCode:"th",name:(0,o.t)("Baht")},TRY:{countyCode:"tr",name:(0,o.t)("Turkish Lira")},TWD:{countyCode:"tw",name:(0,o.t)("New Taiwan Dollar")},USD:{countyCode:"us",name:(0,o.t)("US Dollar")},UYU:{countyCode:"uy",name:(0,o.t)("Uruguay")},ZAR:{countyCode:"za",name:(0,o.t)("Rand")}},r=e=>{if(!a.hasOwnProperty(e))return"";const t=a[e].countyCode;return(0,n.flagHtml)(t)},c=e=>a.hasOwnProperty(e)?a[e].name:"";class l{constructor(e,t,s,o){
this._bemBlockName="cross-table",this._currentCell=[0,0],this._cells=[],this._headerTopCells=[],this._headerLeftCells=[],this._cssModificators=Object.assign({},o&&o.cssModificators||{}),this._container=e,this._currencies=t,this._cellTemplate=s,this._initTable()}_initTable(){const e=document.createElement("table");this._addCSSClasses(e,"table",this._cssModificators.table);const t=document.createElement("tbody");e.appendChild(t);const s=document.createElement("tr");this._addCSSClasses(s,"header-row",this._cssModificators.headerRow),t.appendChild(s);const o=document.createElement("th");this._addCSSClasses(o,"header-cell",this._cssModificators.headerCell),s.appendChild(o);const n=document.createElement("div");this._addCSSClasses(n,"header-item"),o.appendChild(n),this._currencies.forEach((e,t)=>{const o=document.createElement("th");this._addCSSClasses(o,"header-cell",this._cssModificators.headerCell),s.appendChild(o);const n=document.createElement("div");this._addCSSClasses(n,"header-item",this._cssModificators.headerItem),n.innerHTML=r(e)+`<span class="apply-common-tooltip" title="${c(e)}">${(0,i.htmlEscape)(e)}</span>`,o.appendChild(n),this._headerTopCells.push(o)}),this._currencies.forEach((e,s)=>{const o=document.createElement("tr");this._addCSSClasses(o,"table-row",this._cssModificators.tableRow),t.appendChild(o);const n=document.createElement("th");this._addCSSClasses(n,"header-cell",this._cssModificators.headerCell),o.appendChild(n),this._headerLeftCells.push(n);const a=document.createElement("div");this._addCSSClasses(a,"header-item",this._cssModificators.headerItem),a.innerHTML=r(e)+`<span class="apply-common-tooltip" title="${c(e)}">${(0,i.htmlEscape)(e)}</span>`,n.appendChild(a);const l=[];this._currencies.forEach((t,n)=>{const i={x:n,y:s,symbol:e+t},a=this._cellTemplate.getElement(i);this._addCSSClasses(a,"cell",this._cssModificators.cell),o.appendChild(a),l.push(a),a.addEventListener("mouseleave",()=>this._removeCrossSelection(this._currentCell[0],this._currentCell[1])),a.addEventListener("mouseenter",()=>{this._removeCrossSelection(this._currentCell[0],this._currentCell[1]),this._currentCell=[s,n],this._setCrossSelection(s,n)})}),this._cells.push(l)}),this._container.appendChild(e)}_addCSSClasses(e,t,s){e.classList.add(`${this._bemBlockName}__${t}`),this._addModificators(e,s)}_addModificators(e,t){void 0!==t&&t.forEach(t=>{e.classList.add(t)})}_removeModificators(e,t){void 0!==t&&t.forEach(t=>{e.classList.remove(t)})}_setCrossSelection(e,t){const s=(e,t,s)=>{void 0!==s?this._addModificators(e,s):this._addModificators(e,[`${this._bemBlockName}__${t}`])};for(let o=0;o<e;o++)s(this._cells[o][t],"cell--selected",this._cssModificators.cellSelect);for(let o=0;o<t;o++)s(this._cells[e][o],"cell--selected",this._cssModificators.cellSelect);s(this._headerLeftCells[e],"header-cell--selected",this._cssModificators.headerSelect),s(this._headerTopCells[t],"header-cell--selected",this._cssModificators.headerSelect),s(this._cells[e][t],"cell--selected-origin",this._cssModificators.cellOriginSelect)}
_removeCrossSelection(e,t){const s=(e,t,s)=>{void 0!==s?this._removeModificators(e,s):this._removeModificators(e,[`${this._bemBlockName}__${t}`])};for(let o=0;o<e;o++)s(this._cells[o][t],"cell--selected",this._cssModificators.cellSelect);for(let o=0;o<t;o++)s(this._cells[e][o],"cell--selected",this._cssModificators.cellSelect);s(this._headerLeftCells[e],"header-cell--selected",this._cssModificators.headerSelect),s(this._headerTopCells[t],"header-cell--selected",this._cssModificators.headerSelect),s(this._cells[e][t],"cell--selected-origin",this._cssModificators.cellOriginSelect)}}},71186:(e,t,s)=>{"use strict";s.d(t,{TemplateElement:()=>o});class o{constructor(e,t){this._customizer=t;const s=document.createElement("tr");s.innerHTML=e,this._element=s.children[0]}getElement(e){const t=this._element.cloneNode(!0);return this._customizer?this._customizer(t,e):t}}},96080:(e,t,s)=>{"use strict";var o,n;s.d(t,{ParentEvents:()=>o,IFrameEvents:()=>n}),function(e){let t;!function(e){e.SetSymbol="set-symbol",e.SetInterval="set-interval"}(t=e.Names||(e.Names={}))}(o||(o={})),function(e){let t;!function(e){e.SymbolClick="tv-widget-symbol-click",e.WidgetLoad="tv-widget-load",e.ResizeIframe="tv-widget-resize-iframe",e.NoData="tv-widget-no-data"}(t=e.Names||(e.Names={}))}(n||(n={}))},10899:(e,t,s)=>{"use strict";function o(e,t,s){const o={name:e,frameElementId:t,data:s};window.parent.postMessage(o,"*")}function n(e,t){function s(s){s.data&&s.data.name&&s.data.name===e&&t(s.data.data)}return window.addEventListener("message",s,!1),()=>{window.removeEventListener("message",s,!1)}}s.d(t,{dispatchEventToParent:()=>o,listenEventFromParent:()=>n})},75203:(e,t,s)=>{"use strict";s.d(t,{telemetry:()=>h});var o=s(97639),n=s.n(o),i=s(86674),a=s(38456),r=s(14802);s(59863);const c=(0,s(11905).getLogger)("Common.Telemetry"),l={default:15e3,site:3e5},d=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const h=new class{constructor(){this.reportSent=new(n()),this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,s){var o;if(!this._isAbleToSendReport(t))return;const n=this._getSubserviceType(e),i=this._getHost(e,n);if(null!==i){if(s=void 0===s?{count:1}:s,this._addReportToStash(s,t,i),!this._timeoutIds[e]){const t=null!==(o=l[e])&&void 0!==o?o:l.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,i),t)}}else c.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${n}`)}sendChartReport(e,t,s=!0){this._sendServiceSpecifiedReport("charts",e,t,s)}sendLineToolsStorageReport(e,t,s=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,s)}_sendServiceSpecifiedReport(e,t,s,o=!0){this._updateUserInfo(),s=void 0===s?{count:1}:s,
o&&(s=this._appendCommonAdditionalInfo(s,["cluster","userId"])),this.sendReport(e,t,s)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,s=d.includes(e),o=Boolean(window.TradingView.onChartPage||(0,a.onWidget)());return t&&(!s||o)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),s=this._renameAllParams(e),o={event:"report_stash",params:this._cleanAllParams(s)};c.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,i.fetch)(t+"/report",{method:"POST",body:JSON.stringify(o)})}this._timeoutIds[e]=null}_getHost(e,t){const s=window.TELEMETRY_HOSTS,o=s[e]&&s[e][t];return Boolean(o)?o:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const s=window.user.is_pro;return"charts"===e&&(0,r.isOnMobileAppPage)("old")?t=s?"ios_pro":"ios_free":"charts"===e&&(0,r.isOnMobileAppPage)("new")?t=s?"android_pro":"android_free":(0,a.onWidget)()?t="widget":s&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return c.logError("Could not parse cluster id (session id)"),null}const s=/(.*@)(.*)/gi.exec(t);return null!==s&&s.length>=3?s[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach(t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])}),e}_cropParams(e){var t;for(const s in e)e.hasOwnProperty(s)&&e[s].length>1e3&&(e.too_much_metrics_frame=null!==(t=e.too_much_metrics_frame)&&void 0!==t?t:[],e.too_much_metrics_frame.push({value:e[s].length,additional:{event:s}}),delete e[s]);return e}_renameAllParams(e){const t={};for(const s in e)e.hasOwnProperty(s)&&(t[s]=[],e[s].forEach(e=>{t[s].push(this._renameEntryParams(e))}));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce((s,o)=>(s[t[o]]=e[o],s),{})}_cleanAllParams(e){const t={};for(const s in e)if(e.hasOwnProperty(s)){t[s]=[];const o={c:0};e[s].forEach(e=>{const n=this._cleanEntryParams(e),i=Object.keys(n).length;1===i&&void 0!==n.c?o.c+=n.c:i>0&&t[s].push(n)}),o.c>0&&t[s].push(o),0===t[s].length&&delete t[s]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce((t,s)=>"c"!==s&&"t"!==s||e[s]?(t[s]=e[s],t):t,{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,s){s in this._reportStash||(this._reportStash[s]={}),t in this._reportStash[s]||(this._reportStash[s][t]=[]),Object.keys(e).length>0&&this._reportStash[s][t].push(e)}}},61499:(e,t,s)=>{"use strict";var o;s.d(t,{StdTheme:()=>o}),function(e){e.Light="light",e.Dark="dark"}(o||(o={}))}}]);